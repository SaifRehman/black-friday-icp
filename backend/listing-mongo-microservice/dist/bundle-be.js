!function(e){function t(e){var t=require("./"+e+"."+o+".hot-update.js");!function(e,t){if(!b[e]||!g[e])return;for(var r in g[e]=!1,t)Object.prototype.hasOwnProperty.call(t,r)&&(f[r]=t[r]);0==--y&&0===m&&x()}(t.id,t.modules)}var r,n=!0,o="78f97b8cd7fe691827d8",i={},s=[],c=[];function d(e){var t=D[e];if(!t)return _;var n=function(n){return t.hot.active?(D[n]?-1===D[n].parents.indexOf(e)&&D[n].parents.push(e):(s=[e],r=n),-1===t.children.indexOf(n)&&t.children.push(n)):(console.warn("[HMR] unexpected require("+n+") from disposed module "+e),s=[]),_(n)},o=function(e){return{configurable:!0,enumerable:!0,get:function(){return _[e]},set:function(t){_[e]=t}}};for(var i in _)Object.prototype.hasOwnProperty.call(_,i)&&"e"!==i&&"t"!==i&&Object.defineProperty(n,i,o(i));return n.e=function(e){return"ready"===u&&p("prepare"),m++,_.e(e).then(t,function(e){throw t(),e});function t(){m--,"prepare"===u&&(v[e]||j(e),0===m&&0===y&&x())}},n.t=function(e,t){return 1&t&&(e=n(e)),_.t(e,-2&t)},n}var a=[],u="idle";function p(e){u=e;for(var t=0;t<a.length;t++)a[t].call(null,e)}var l,f,h,y=0,m=0,v={},g={},b={};function w(e){return+e+""===e?+e:e}function I(e){if("idle"!==u)throw new Error("check() is only allowed in idle status");return n=e,p("check"),function(){try{var e=require("./"+o+".hot-update.json")}catch(e){return Promise.resolve()}return Promise.resolve(e)}().then(function(e){if(!e)return p("idle"),null;g={},v={},b=e.c,h=e.h,p("prepare");var t=new Promise(function(e,t){l={resolve:e,reject:t}});f={};return j(0),"prepare"===u&&0===m&&0===y&&x(),t})}function j(e){b[e]?(g[e]=!0,y++,t(e)):v[e]=!0}function x(){p("ready");var e=l;if(l=null,e)if(n)Promise.resolve().then(function(){return O(n)}).then(function(t){e.resolve(t)},function(t){e.reject(t)});else{var t=[];for(var r in f)Object.prototype.hasOwnProperty.call(f,r)&&t.push(w(r));e.resolve(t)}}function O(t){if("ready"!==u)throw new Error("apply() is only allowed in ready status");var r,n,c,d,a;function l(e){for(var t=[e],r={},n=t.slice().map(function(e){return{chain:[e],id:e}});n.length>0;){var o=n.pop(),i=o.id,s=o.chain;if((d=D[i])&&!d.hot._selfAccepted){if(d.hot._selfDeclined)return{type:"self-declined",chain:s,moduleId:i};if(d.hot._main)return{type:"unaccepted",chain:s,moduleId:i};for(var c=0;c<d.parents.length;c++){var a=d.parents[c],u=D[a];if(u){if(u.hot._declinedDependencies[i])return{type:"declined",chain:s.concat([a]),moduleId:i,parentId:a};-1===t.indexOf(a)&&(u.hot._acceptedDependencies[i]?(r[a]||(r[a]=[]),y(r[a],[i])):(delete r[a],t.push(a),n.push({chain:s.concat([a]),id:a})))}}}}return{type:"accepted",moduleId:e,outdatedModules:t,outdatedDependencies:r}}function y(e,t){for(var r=0;r<t.length;r++){var n=t[r];-1===e.indexOf(n)&&e.push(n)}}t=t||{};var m={},v=[],g={},I=function(){console.warn("[HMR] unexpected require("+x.moduleId+") to disposed module")};for(var j in f)if(Object.prototype.hasOwnProperty.call(f,j)){var x;a=w(j);var O=!1,P=!1,E=!1,H="";switch((x=f[j]?l(a):{type:"disposed",moduleId:j}).chain&&(H="\nUpdate propagation: "+x.chain.join(" -> ")),x.type){case"self-declined":t.onDeclined&&t.onDeclined(x),t.ignoreDeclined||(O=new Error("Aborted because of self decline: "+x.moduleId+H));break;case"declined":t.onDeclined&&t.onDeclined(x),t.ignoreDeclined||(O=new Error("Aborted because of declined dependency: "+x.moduleId+" in "+x.parentId+H));break;case"unaccepted":t.onUnaccepted&&t.onUnaccepted(x),t.ignoreUnaccepted||(O=new Error("Aborted because "+a+" is not accepted"+H));break;case"accepted":t.onAccepted&&t.onAccepted(x),P=!0;break;case"disposed":t.onDisposed&&t.onDisposed(x),E=!0;break;default:throw new Error("Unexception type "+x.type)}if(O)return p("abort"),Promise.reject(O);if(P)for(a in g[a]=f[a],y(v,x.outdatedModules),x.outdatedDependencies)Object.prototype.hasOwnProperty.call(x.outdatedDependencies,a)&&(m[a]||(m[a]=[]),y(m[a],x.outdatedDependencies[a]));E&&(y(v,[x.moduleId]),g[a]=I)}var A,S=[];for(n=0;n<v.length;n++)a=v[n],D[a]&&D[a].hot._selfAccepted&&S.push({module:a,errorHandler:D[a].hot._selfAccepted});p("dispose"),Object.keys(b).forEach(function(e){!1===b[e]&&function(e){delete installedChunks[e]}(e)});for(var C,k,q=v.slice();q.length>0;)if(a=q.pop(),d=D[a]){var U={},M=d.hot._disposeHandlers;for(c=0;c<M.length;c++)(r=M[c])(U);for(i[a]=U,d.hot.active=!1,delete D[a],delete m[a],c=0;c<d.children.length;c++){var T=D[d.children[c]];T&&((A=T.parents.indexOf(a))>=0&&T.parents.splice(A,1))}}for(a in m)if(Object.prototype.hasOwnProperty.call(m,a)&&(d=D[a]))for(k=m[a],c=0;c<k.length;c++)C=k[c],(A=d.children.indexOf(C))>=0&&d.children.splice(A,1);for(a in p("apply"),o=h,g)Object.prototype.hasOwnProperty.call(g,a)&&(e[a]=g[a]);var N=null;for(a in m)if(Object.prototype.hasOwnProperty.call(m,a)&&(d=D[a])){k=m[a];var z=[];for(n=0;n<k.length;n++)if(C=k[n],r=d.hot._acceptedDependencies[C]){if(-1!==z.indexOf(r))continue;z.push(r)}for(n=0;n<z.length;n++){r=z[n];try{r(k)}catch(e){t.onErrored&&t.onErrored({type:"accept-errored",moduleId:a,dependencyId:k[n],error:e}),t.ignoreErrored||N||(N=e)}}}for(n=0;n<S.length;n++){var L=S[n];a=L.module,s=[a];try{_(a)}catch(e){if("function"==typeof L.errorHandler)try{L.errorHandler(e)}catch(r){t.onErrored&&t.onErrored({type:"self-accept-error-handler-errored",moduleId:a,error:r,originalError:e}),t.ignoreErrored||N||(N=r),N||(N=e)}else t.onErrored&&t.onErrored({type:"self-accept-errored",moduleId:a,error:e}),t.ignoreErrored||N||(N=e)}}return N?(p("fail"),Promise.reject(N)):(p("idle"),new Promise(function(e){e(v)}))}var D={};function _(t){if(D[t])return D[t].exports;var n=D[t]={i:t,l:!1,exports:{},hot:function(e){var t={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_disposeHandlers:[],_main:r!==e,active:!0,accept:function(e,r){if(void 0===e)t._selfAccepted=!0;else if("function"==typeof e)t._selfAccepted=e;else if("object"==typeof e)for(var n=0;n<e.length;n++)t._acceptedDependencies[e[n]]=r||function(){};else t._acceptedDependencies[e]=r||function(){}},decline:function(e){if(void 0===e)t._selfDeclined=!0;else if("object"==typeof e)for(var r=0;r<e.length;r++)t._declinedDependencies[e[r]]=!0;else t._declinedDependencies[e]=!0},dispose:function(e){t._disposeHandlers.push(e)},addDisposeHandler:function(e){t._disposeHandlers.push(e)},removeDisposeHandler:function(e){var r=t._disposeHandlers.indexOf(e);r>=0&&t._disposeHandlers.splice(r,1)},check:I,apply:O,status:function(e){if(!e)return u;a.push(e)},addStatusHandler:function(e){a.push(e)},removeStatusHandler:function(e){var t=a.indexOf(e);t>=0&&a.splice(t,1)},data:i[e]};return r=void 0,t}(t),parents:(c=s,s=[],c),children:[]};return e[t].call(n.exports,n,n.exports,d(t)),n.l=!0,n.exports}_.m=e,_.c=D,_.d=function(e,t,r){_.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},_.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},_.t=function(e,t){if(1&t&&(e=_(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(_.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)_.d(r,n,function(t){return e[t]}.bind(null,n));return r},_.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return _.d(t,"a",t),t},_.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},_.p="/Users/saifurrehman/Desktop/black-friday-icp/backend/listing-mongo-microservice/dist",_.h=function(){return o},d(6)(_.s=6)}([function(e,t){e.exports=require("mongoose")},function(e,t){e.exports=require("express")},function(e,t){e.exports=require("debug")},function(e,t){e.exports=require("body-parser")},function(e,t){e.exports=require("http")},function(e,t){e.exports=require("express-session")},function(e,t,r){r(7),e.exports=r(9)},function(e,t){e.exports=require("@babel/polyfill")},function(e,t){e.exports=require("reflect-metadata")},function(e,t,r){"use strict";r.r(t);var n=r(4),o=r.n(n),i=r(2),s=r.n(i),c=r(1),d=r.n(c),a=r(3),u=r.n(a),p=r(5),l=r.n(p),f=r(0),h=new(0,f.Schema)({Name:{type:String},Phone:{type:String},Lng:{type:String},Lat:{type:String}}),y=f.model("Item",h),m=function(){function e(){}return e.prototype.addNewItem=function(e,t){t.setHeader("Content-Type","application/json"),new y(e.body).save(function(e,r){e?t.status(404).json({err:e}):t.json(r)})},e.prototype.getItem=function(e,t){t.setHeader("Content-Type","application/json"),y.find({},function(e,r){e?t.status(404).json({err:e}):t.status(200).send(r)})},e.prototype.getItemById=function(e,t){t.setHeader("Content-Type","application/json"),y.findById(e.params.ID,function(e,r){e?t.status(404).json({err:e}):t.status(200).send(r)})},e.prototype.updateItem=function(e,t){t.setHeader("Content-Type","application/json"),y.findOneAndUpdate({_id:e.params.ID},e.body,{new:!0},function(e,r){e?t.status(404).json({err:e}):t.json(r)})},e.prototype.deleteItem=function(e,t){t.setHeader("Content-Type","application/json"),y.deleteOne({_id:e.params.ID},function(e){e?t.status(404).json({err:e}):t.json({message:"success"})})},e}(),v=(r(8),(new(function(){function e(){this.itemController=new m,this.router=Object(c.Router)(),this.routes()}return e.prototype.routes=function(){this.router.get("/healthz",function(e,t){t.status(200).send("healthz")}),this.router.get("/listItems",function(e,t,r){r()},this.itemController.getItem),this.router.post("/listItems",function(e,t,r){r()},this.itemController.addNewItem),this.router.get("/listItems/:ID",function(e,t,r){r()},this.itemController.getItemById),this.router.put("/listItems/:ID",function(e,t,r){r()},this.itemController.updateItem),this.router.delete("/listItems/:ID",function(e,t,r){r()},this.itemController.deleteItem)},e}())).router),g=r(0);g.Promise=Promise;var b=(new(function(){function e(){this.mongoUrl="mongodb://admin:admin@158.175.111.107:30327/amro",this.express=d()(),this.middleware(),this.routes(),this.mongoSetup()}return e.prototype.mongoSetup=function(){g.Promise=global.Promise,g.connect(this.mongoUrl)},e.prototype.middleware=function(){this.express.use(function(e,t,r){t.header("Access-Control-Allow-Origin","*"),t.header("Access-Control-Allow-Headers","*"),r()}),this.express.use(u.a.json()),this.express.use(u.a.urlencoded({extended:!1})),this.express.use(l()({secret:"test123",saveUninitialized:!1,resave:!0}))},e.prototype.routes=function(){this.express.get("/",function(e,t){t.send("hi")}),this.express.use("/",v)},e}())).express;s()("ts-express:server"),new(function(){return function(){var e=this;this.normalizePort=function(e){var t="string"==typeof e?parseInt(e,10):e;return isNaN(t)?e:t>=0&&t},this.onError=function(t){if("listen"!==t.syscall)throw t;var r="string"==typeof e.port?"Pipe "+e.port:"Port "+e.port;switch(t.code){case"EACCES":console.error(r+" requires elevated privileges"),process.exit(1);break;case"EADDRINUSE":console.error(r+" is already in use"),process.exit(1);break;default:throw t}},this.onListening=function(){console.log("listening on "+e.port);var t=e.server.address(),r="string"==typeof t?"pipe "+t:"port "+t.port;s()("Listening on "+r)},this.port=this.normalizePort(process.env.port||7e3),b.set("port",this.port),this.server=o.a.createServer(b),this.server.listen(this.port),this.server.on("error",this.onError),this.server.on("listening",this.onListening)}}())}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwibW9uZ29vc2VcIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJleHByZXNzXCIiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwiZGVidWdcIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJib2R5LXBhcnNlclwiIiwid2VicGFjazovLy9leHRlcm5hbCBcImh0dHBcIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJleHByZXNzLXNlc3Npb25cIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJAYmFiZWwvcG9seWZpbGxcIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJyZWZsZWN0LW1ldGFkYXRhXCIiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbnRyb2xsZXJzL2xpc3RpbmcvbGliL21vZGVscy9jcm1Nb2RlbC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29udHJvbGxlcnMvbGlzdGluZy9saWIvY29udHJvbGxlcnMvY3JtQ29udHJvbGxlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29udHJvbGxlcnMvbGlzdGluZy9pbmRleC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvc2VydmVyLnRzIiwid2VicGFjazovLy8uL3NyYy9pbmRleC50cyJdLCJuYW1lcyI6WyJob3REb3dubG9hZFVwZGF0ZUNodW5rIiwiY2h1bmtJZCIsImNodW5rIiwicmVxdWlyZSIsImhvdEN1cnJlbnRIYXNoIiwibW9yZU1vZHVsZXMiLCJob3RBdmFpbGFibGVGaWxlc01hcCIsImhvdFJlcXVlc3RlZEZpbGVzTWFwIiwibW9kdWxlSWQiLCJPYmplY3QiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJob3RVcGRhdGUiLCJob3RXYWl0aW5nRmlsZXMiLCJob3RDaHVua3NMb2FkaW5nIiwiaG90VXBkYXRlRG93bmxvYWRlZCIsImhvdEFkZFVwZGF0ZUNodW5rIiwiaWQiLCJtb2R1bGVzIiwiaG90Q3VycmVudENoaWxkTW9kdWxlIiwiaG90QXBwbHlPblVwZGF0ZSIsImhvdEN1cnJlbnRNb2R1bGVEYXRhIiwiaG90Q3VycmVudFBhcmVudHMiLCJob3RDdXJyZW50UGFyZW50c1RlbXAiLCJob3RDcmVhdGVSZXF1aXJlIiwibWUiLCJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsImZuIiwicmVxdWVzdCIsImhvdCIsImFjdGl2ZSIsInBhcmVudHMiLCJpbmRleE9mIiwicHVzaCIsImNoaWxkcmVuIiwiY29uc29sZSIsIndhcm4iLCJPYmplY3RGYWN0b3J5IiwibmFtZSIsImNvbmZpZ3VyYWJsZSIsImVudW1lcmFibGUiLCJnZXQiLCJzZXQiLCJ2YWx1ZSIsImRlZmluZVByb3BlcnR5IiwiZSIsImhvdFN0YXR1cyIsImhvdFNldFN0YXR1cyIsInRoZW4iLCJmaW5pc2hDaHVua0xvYWRpbmciLCJlcnIiLCJob3RXYWl0aW5nRmlsZXNNYXAiLCJob3RFbnN1cmVVcGRhdGVDaHVuayIsInQiLCJtb2RlIiwiaG90U3RhdHVzSGFuZGxlcnMiLCJuZXdTdGF0dXMiLCJpIiwibGVuZ3RoIiwiaG90RGVmZXJyZWQiLCJob3RVcGRhdGVOZXdIYXNoIiwidG9Nb2R1bGVJZCIsImhvdENoZWNrIiwiYXBwbHkiLCJFcnJvciIsInVwZGF0ZSIsIlByb21pc2UiLCJyZXNvbHZlIiwiaG90RG93bmxvYWRNYW5pZmVzdCIsImMiLCJoIiwicHJvbWlzZSIsInJlamVjdCIsImRlZmVycmVkIiwiaG90QXBwbHkiLCJyZXN1bHQiLCJvdXRkYXRlZE1vZHVsZXMiLCJvcHRpb25zIiwiY2IiLCJqIiwibW9kdWxlIiwiZ2V0QWZmZWN0ZWRTdHVmZiIsInVwZGF0ZU1vZHVsZUlkIiwib3V0ZGF0ZWREZXBlbmRlbmNpZXMiLCJxdWV1ZSIsInNsaWNlIiwibWFwIiwiY2hhaW4iLCJxdWV1ZUl0ZW0iLCJwb3AiLCJfc2VsZkFjY2VwdGVkIiwiX3NlbGZEZWNsaW5lZCIsInR5cGUiLCJfbWFpbiIsInBhcmVudElkIiwicGFyZW50IiwiX2RlY2xpbmVkRGVwZW5kZW5jaWVzIiwiY29uY2F0IiwiX2FjY2VwdGVkRGVwZW5kZW5jaWVzIiwiYWRkQWxsVG9TZXQiLCJhIiwiYiIsIml0ZW0iLCJhcHBsaWVkVXBkYXRlIiwid2FyblVuZXhwZWN0ZWRSZXF1aXJlIiwiYWJvcnRFcnJvciIsImRvQXBwbHkiLCJkb0Rpc3Bvc2UiLCJjaGFpbkluZm8iLCJqb2luIiwib25EZWNsaW5lZCIsImlnbm9yZURlY2xpbmVkIiwib25VbmFjY2VwdGVkIiwiaWdub3JlVW5hY2NlcHRlZCIsIm9uQWNjZXB0ZWQiLCJvbkRpc3Bvc2VkIiwiaWR4Iiwib3V0ZGF0ZWRTZWxmQWNjZXB0ZWRNb2R1bGVzIiwiZXJyb3JIYW5kbGVyIiwia2V5cyIsImZvckVhY2giLCJpbnN0YWxsZWRDaHVua3MiLCJob3REaXNwb3NlQ2h1bmsiLCJkZXBlbmRlbmN5IiwibW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXMiLCJkYXRhIiwiZGlzcG9zZUhhbmRsZXJzIiwiX2Rpc3Bvc2VIYW5kbGVycyIsImNoaWxkIiwic3BsaWNlIiwiZXJyb3IiLCJjYWxsYmFja3MiLCJvbkVycm9yZWQiLCJkZXBlbmRlbmN5SWQiLCJpZ25vcmVFcnJvcmVkIiwiZXJyMiIsIm9yaWdpbmFsRXJyb3IiLCJleHBvcnRzIiwibCIsImFjY2VwdCIsImRlcCIsImNhbGxiYWNrIiwidW5kZWZpbmVkIiwiZGVjbGluZSIsImRpc3Bvc2UiLCJhZGREaXNwb3NlSGFuZGxlciIsInJlbW92ZURpc3Bvc2VIYW5kbGVyIiwiY2hlY2siLCJzdGF0dXMiLCJhZGRTdGF0dXNIYW5kbGVyIiwicmVtb3ZlU3RhdHVzSGFuZGxlciIsImhvdENyZWF0ZU1vZHVsZSIsIm0iLCJkIiwiZ2V0dGVyIiwibyIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwIiwicyIsIkl0ZW1TY2hlbWEiLCJTY2hlbWEiLCJleHRlcm5hbF9tb25nb29zZV8iLCJOYW1lIiwiU3RyaW5nIiwiUGhvbmUiLCJMbmciLCJMYXQiLCJJdGVtIiwiSXRlbUNvbnRyb2xsZXIiLCJhZGROZXdJdGVtIiwicmVxIiwicmVzIiwic2V0SGVhZGVyIiwiYm9keSIsInNhdmUiLCJqc29uIiwiZ2V0SXRlbSIsImZpbmQiLCJzZW5kIiwiZ2V0SXRlbUJ5SWQiLCJmaW5kQnlJZCIsInBhcmFtcyIsIklEIiwidXBkYXRlSXRlbSIsImZpbmRPbmVBbmRVcGRhdGUiLCJfaWQiLCJuZXciLCJkZWxldGVJdGVtIiwiZGVsZXRlT25lIiwibWVzc2FnZSIsImxpc3RpbmciLCJMaXN0aW5nTW9uZ29Db250cm9sbGVyIiwidGhpcyIsIml0ZW1Db250cm9sbGVyIiwicm91dGVyIiwiZXh0ZXJuYWxfZXhwcmVzc18iLCJyb3V0ZXMiLCJfIiwibmV4dCIsInBvc3QiLCJwdXQiLCJkZWxldGUiLCJtb25nb29zZSIsInNlcnZlciIsIkFwcCIsIm1vbmdvVXJsIiwiZXhwcmVzcyIsImV4dGVybmFsX2V4cHJlc3NfZGVmYXVsdCIsIm1pZGRsZXdhcmUiLCJtb25nb1NldHVwIiwiZ2xvYmFsIiwiY29ubmVjdCIsInVzZSIsImhlYWRlciIsImV4dGVybmFsX2JvZHlfcGFyc2VyX2RlZmF1bHQiLCJ1cmxlbmNvZGVkIiwiZXh0ZW5kZWQiLCJleHRlcm5hbF9leHByZXNzX3Nlc3Npb25fZGVmYXVsdCIsInNlY3JldCIsInNhdmVVbmluaXRpYWxpemVkIiwicmVzYXZlIiwiZXh0ZXJuYWxfZGVidWdfZGVmYXVsdCIsIl90aGlzIiwibm9ybWFsaXplUG9ydCIsInZhbCIsInBvcnQiLCJwYXJzZUludCIsImlzTmFOIiwib25FcnJvciIsInN5c2NhbGwiLCJjb2RlIiwicHJvY2VzcyIsImV4aXQiLCJvbkxpc3RlbmluZyIsImxvZyIsImFkZHIiLCJhZGRyZXNzIiwiZW52IiwiZXh0ZXJuYWxfaHR0cF9kZWZhdWx0IiwiY3JlYXRlU2VydmVyIiwibGlzdGVuIiwib24iXSwi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RUFDQSxPQUFBRyxNQUFBRixHQUNBRCxFQUNBQyxHQUFBLEdBQ0FBLEdBSUFqQyxLQUFBb0MsUUFBQSxTQUFBNUcsR0FDQSxjQUFBQSxFQUFBNkcsUUFDQSxNQUFBN0csRUFDQSxJQUFBaUMsRUFBQSxpQkFBQXFFLEVBQUFHLEtBQUEsUUFBQUgsRUFBQUcsS0FBQSxRQUFBSCxFQUFBRyxLQUNBLE9BQUF6RyxFQUFBOEcsTUFDQSxhQUNBN00sUUFBQStGLE1BQUFpQyxFQUFBLGlDQUNBOEUsUUFBQUMsS0FBQSxHQUNBLE1BQ0EsaUJBQ0EvTSxRQUFBK0YsTUFBQWlDLEVBQUEsc0JBQ0E4RSxRQUFBQyxLQUFBLEdBQ0EsTUFDQSxRQUNBLE1BQUFoSCxJQUdBd0UsS0FBQXlDLFlBQUEsV0FDQWhOLFFBQUFpTixJQUFBLGdCQUFBWixFQUFBRyxNQUNBLElBQUFVLEVBQUFiLEVBQUFuQixPQUFBaUMsVUFDQW5GLEVBQUEsaUJBQUFrRixFQUFBLFFBQUFBLEVBQUEsUUFBQUEsRUFBQVYsS0FDWUosSUFBSyxnQkFBQXBFLElBRWpCdUMsS0FBQWlDLEtBQUFqQyxLQUFBK0IsY0FBQVEsUUFBQU0sSUFBQVosTUFBQSxLQUNRdEIsRUFBRzNLLElBQUEsT0FBQWdLLEtBQUFpQyxNQUNYakMsS0FBQVcsT0FBc0JtQyxFQUFBcEosRUFBSXFKLGFBQWNwQyxHQUN4Q1gsS0FBQVcsT0FBQXFDLE9BQUFoRCxLQUFBaUMsTUFDQWpDLEtBQUFXLE9BQUFzQyxHQUFBLFFBQUFqRCxLQUFBb0MsU0FDQXBDLEtBQUFXLE9BQUFzQyxHQUFBLFlBQUFqRCxLQUFBeUMsY0F4Q2MiLCJmaWxlIjoiYnVuZGxlLWJlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzXG4gXHRmdW5jdGlvbiBob3REb3dubG9hZFVwZGF0ZUNodW5rKGNodW5rSWQpIHtcbiBcdFx0dmFyIGNodW5rID0gcmVxdWlyZShcIi4vXCIgKyBcIlwiICsgY2h1bmtJZCArIFwiLlwiICsgaG90Q3VycmVudEhhc2ggKyBcIi5ob3QtdXBkYXRlLmpzXCIpO1xuIFx0XHRob3RBZGRVcGRhdGVDaHVuayhjaHVuay5pZCwgY2h1bmsubW9kdWxlcyk7XG4gXHR9XG5cbiBcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFyc1xuIFx0ZnVuY3Rpb24gaG90RG93bmxvYWRNYW5pZmVzdCgpIHtcbiBcdFx0dHJ5IHtcbiBcdFx0XHR2YXIgdXBkYXRlID0gcmVxdWlyZShcIi4vXCIgKyBcIlwiICsgaG90Q3VycmVudEhhc2ggKyBcIi5ob3QtdXBkYXRlLmpzb25cIik7XG4gXHRcdH0gY2F0Y2ggKGUpIHtcbiBcdFx0XHRyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gXHRcdH1cbiBcdFx0cmV0dXJuIFByb21pc2UucmVzb2x2ZSh1cGRhdGUpO1xuIFx0fVxuXG4gXHQvL2VzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFyc1xuIFx0ZnVuY3Rpb24gaG90RGlzcG9zZUNodW5rKGNodW5rSWQpIHtcbiBcdFx0ZGVsZXRlIGluc3RhbGxlZENodW5rc1tjaHVua0lkXTtcbiBcdH1cblxuIFx0dmFyIGhvdEFwcGx5T25VcGRhdGUgPSB0cnVlO1xuIFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzXG4gXHR2YXIgaG90Q3VycmVudEhhc2ggPSBcIjc4Zjk3YjhjZDdmZTY5MTgyN2Q4XCI7XG4gXHR2YXIgaG90UmVxdWVzdFRpbWVvdXQgPSAxMDAwMDtcbiBcdHZhciBob3RDdXJyZW50TW9kdWxlRGF0YSA9IHt9O1xuIFx0dmFyIGhvdEN1cnJlbnRDaGlsZE1vZHVsZTtcbiBcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFyc1xuIFx0dmFyIGhvdEN1cnJlbnRQYXJlbnRzID0gW107XG4gXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcbiBcdHZhciBob3RDdXJyZW50UGFyZW50c1RlbXAgPSBbXTtcblxuIFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzXG4gXHRmdW5jdGlvbiBob3RDcmVhdGVSZXF1aXJlKG1vZHVsZUlkKSB7XG4gXHRcdHZhciBtZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdO1xuIFx0XHRpZiAoIW1lKSByZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXztcbiBcdFx0dmFyIGZuID0gZnVuY3Rpb24ocmVxdWVzdCkge1xuIFx0XHRcdGlmIChtZS5ob3QuYWN0aXZlKSB7XG4gXHRcdFx0XHRpZiAoaW5zdGFsbGVkTW9kdWxlc1tyZXF1ZXN0XSkge1xuIFx0XHRcdFx0XHRpZiAoaW5zdGFsbGVkTW9kdWxlc1tyZXF1ZXN0XS5wYXJlbnRzLmluZGV4T2YobW9kdWxlSWQpID09PSAtMSkge1xuIFx0XHRcdFx0XHRcdGluc3RhbGxlZE1vZHVsZXNbcmVxdWVzdF0ucGFyZW50cy5wdXNoKG1vZHVsZUlkKTtcbiBcdFx0XHRcdFx0fVxuIFx0XHRcdFx0fSBlbHNlIHtcbiBcdFx0XHRcdFx0aG90Q3VycmVudFBhcmVudHMgPSBbbW9kdWxlSWRdO1xuIFx0XHRcdFx0XHRob3RDdXJyZW50Q2hpbGRNb2R1bGUgPSByZXF1ZXN0O1xuIFx0XHRcdFx0fVxuIFx0XHRcdFx0aWYgKG1lLmNoaWxkcmVuLmluZGV4T2YocmVxdWVzdCkgPT09IC0xKSB7XG4gXHRcdFx0XHRcdG1lLmNoaWxkcmVuLnB1c2gocmVxdWVzdCk7XG4gXHRcdFx0XHR9XG4gXHRcdFx0fSBlbHNlIHtcbiBcdFx0XHRcdGNvbnNvbGUud2FybihcbiBcdFx0XHRcdFx0XCJbSE1SXSB1bmV4cGVjdGVkIHJlcXVpcmUoXCIgK1xuIFx0XHRcdFx0XHRcdHJlcXVlc3QgK1xuIFx0XHRcdFx0XHRcdFwiKSBmcm9tIGRpc3Bvc2VkIG1vZHVsZSBcIiArXG4gXHRcdFx0XHRcdFx0bW9kdWxlSWRcbiBcdFx0XHRcdCk7XG4gXHRcdFx0XHRob3RDdXJyZW50UGFyZW50cyA9IFtdO1xuIFx0XHRcdH1cbiBcdFx0XHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhyZXF1ZXN0KTtcbiBcdFx0fTtcbiBcdFx0dmFyIE9iamVjdEZhY3RvcnkgPSBmdW5jdGlvbiBPYmplY3RGYWN0b3J5KG5hbWUpIHtcbiBcdFx0XHRyZXR1cm4ge1xuIFx0XHRcdFx0Y29uZmlndXJhYmxlOiB0cnVlLFxuIFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcbiBcdFx0XHRcdGdldDogZnVuY3Rpb24oKSB7XG4gXHRcdFx0XHRcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fW25hbWVdO1xuIFx0XHRcdFx0fSxcbiBcdFx0XHRcdHNldDogZnVuY3Rpb24odmFsdWUpIHtcbiBcdFx0XHRcdFx0X193ZWJwYWNrX3JlcXVpcmVfX1tuYW1lXSA9IHZhbHVlO1xuIFx0XHRcdFx0fVxuIFx0XHRcdH07XG4gXHRcdH07XG4gXHRcdGZvciAodmFyIG5hbWUgaW4gX193ZWJwYWNrX3JlcXVpcmVfXykge1xuIFx0XHRcdGlmIChcbiBcdFx0XHRcdE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChfX3dlYnBhY2tfcmVxdWlyZV9fLCBuYW1lKSAmJlxuIFx0XHRcdFx0bmFtZSAhPT0gXCJlXCIgJiZcbiBcdFx0XHRcdG5hbWUgIT09IFwidFwiXG4gXHRcdFx0KSB7XG4gXHRcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZm4sIG5hbWUsIE9iamVjdEZhY3RvcnkobmFtZSkpO1xuIFx0XHRcdH1cbiBcdFx0fVxuIFx0XHRmbi5lID0gZnVuY3Rpb24oY2h1bmtJZCkge1xuIFx0XHRcdGlmIChob3RTdGF0dXMgPT09IFwicmVhZHlcIikgaG90U2V0U3RhdHVzKFwicHJlcGFyZVwiKTtcbiBcdFx0XHRob3RDaHVua3NMb2FkaW5nKys7XG4gXHRcdFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18uZShjaHVua0lkKS50aGVuKGZpbmlzaENodW5rTG9hZGluZywgZnVuY3Rpb24oZXJyKSB7XG4gXHRcdFx0XHRmaW5pc2hDaHVua0xvYWRpbmcoKTtcbiBcdFx0XHRcdHRocm93IGVycjtcbiBcdFx0XHR9KTtcblxuIFx0XHRcdGZ1bmN0aW9uIGZpbmlzaENodW5rTG9hZGluZygpIHtcbiBcdFx0XHRcdGhvdENodW5rc0xvYWRpbmctLTtcbiBcdFx0XHRcdGlmIChob3RTdGF0dXMgPT09IFwicHJlcGFyZVwiKSB7XG4gXHRcdFx0XHRcdGlmICghaG90V2FpdGluZ0ZpbGVzTWFwW2NodW5rSWRdKSB7XG4gXHRcdFx0XHRcdFx0aG90RW5zdXJlVXBkYXRlQ2h1bmsoY2h1bmtJZCk7XG4gXHRcdFx0XHRcdH1cbiBcdFx0XHRcdFx0aWYgKGhvdENodW5rc0xvYWRpbmcgPT09IDAgJiYgaG90V2FpdGluZ0ZpbGVzID09PSAwKSB7XG4gXHRcdFx0XHRcdFx0aG90VXBkYXRlRG93bmxvYWRlZCgpO1xuIFx0XHRcdFx0XHR9XG4gXHRcdFx0XHR9XG4gXHRcdFx0fVxuIFx0XHR9O1xuIFx0XHRmbi50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0XHRpZiAobW9kZSAmIDEpIHZhbHVlID0gZm4odmFsdWUpO1xuIFx0XHRcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fLnQodmFsdWUsIG1vZGUgJiB+MSk7XG4gXHRcdH07XG4gXHRcdHJldHVybiBmbjtcbiBcdH1cblxuIFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzXG4gXHRmdW5jdGlvbiBob3RDcmVhdGVNb2R1bGUobW9kdWxlSWQpIHtcbiBcdFx0dmFyIGhvdCA9IHtcbiBcdFx0XHQvLyBwcml2YXRlIHN0dWZmXG4gXHRcdFx0X2FjY2VwdGVkRGVwZW5kZW5jaWVzOiB7fSxcbiBcdFx0XHRfZGVjbGluZWREZXBlbmRlbmNpZXM6IHt9LFxuIFx0XHRcdF9zZWxmQWNjZXB0ZWQ6IGZhbHNlLFxuIFx0XHRcdF9zZWxmRGVjbGluZWQ6IGZhbHNlLFxuIFx0XHRcdF9kaXNwb3NlSGFuZGxlcnM6IFtdLFxuIFx0XHRcdF9tYWluOiBob3RDdXJyZW50Q2hpbGRNb2R1bGUgIT09IG1vZHVsZUlkLFxuXG4gXHRcdFx0Ly8gTW9kdWxlIEFQSVxuIFx0XHRcdGFjdGl2ZTogdHJ1ZSxcbiBcdFx0XHRhY2NlcHQ6IGZ1bmN0aW9uKGRlcCwgY2FsbGJhY2spIHtcbiBcdFx0XHRcdGlmIChkZXAgPT09IHVuZGVmaW5lZCkgaG90Ll9zZWxmQWNjZXB0ZWQgPSB0cnVlO1xuIFx0XHRcdFx0ZWxzZSBpZiAodHlwZW9mIGRlcCA9PT0gXCJmdW5jdGlvblwiKSBob3QuX3NlbGZBY2NlcHRlZCA9IGRlcDtcbiBcdFx0XHRcdGVsc2UgaWYgKHR5cGVvZiBkZXAgPT09IFwib2JqZWN0XCIpXG4gXHRcdFx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgZGVwLmxlbmd0aDsgaSsrKVxuIFx0XHRcdFx0XHRcdGhvdC5fYWNjZXB0ZWREZXBlbmRlbmNpZXNbZGVwW2ldXSA9IGNhbGxiYWNrIHx8IGZ1bmN0aW9uKCkge307XG4gXHRcdFx0XHRlbHNlIGhvdC5fYWNjZXB0ZWREZXBlbmRlbmNpZXNbZGVwXSA9IGNhbGxiYWNrIHx8IGZ1bmN0aW9uKCkge307XG4gXHRcdFx0fSxcbiBcdFx0XHRkZWNsaW5lOiBmdW5jdGlvbihkZXApIHtcbiBcdFx0XHRcdGlmIChkZXAgPT09IHVuZGVmaW5lZCkgaG90Ll9zZWxmRGVjbGluZWQgPSB0cnVlO1xuIFx0XHRcdFx0ZWxzZSBpZiAodHlwZW9mIGRlcCA9PT0gXCJvYmplY3RcIilcbiBcdFx0XHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBkZXAubGVuZ3RoOyBpKyspXG4gXHRcdFx0XHRcdFx0aG90Ll9kZWNsaW5lZERlcGVuZGVuY2llc1tkZXBbaV1dID0gdHJ1ZTtcbiBcdFx0XHRcdGVsc2UgaG90Ll9kZWNsaW5lZERlcGVuZGVuY2llc1tkZXBdID0gdHJ1ZTtcbiBcdFx0XHR9LFxuIFx0XHRcdGRpc3Bvc2U6IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gXHRcdFx0XHRob3QuX2Rpc3Bvc2VIYW5kbGVycy5wdXNoKGNhbGxiYWNrKTtcbiBcdFx0XHR9LFxuIFx0XHRcdGFkZERpc3Bvc2VIYW5kbGVyOiBmdW5jdGlvbihjYWxsYmFjaykge1xuIFx0XHRcdFx0aG90Ll9kaXNwb3NlSGFuZGxlcnMucHVzaChjYWxsYmFjayk7XG4gXHRcdFx0fSxcbiBcdFx0XHRyZW1vdmVEaXNwb3NlSGFuZGxlcjogZnVuY3Rpb24oY2FsbGJhY2spIHtcbiBcdFx0XHRcdHZhciBpZHggPSBob3QuX2Rpc3Bvc2VIYW5kbGVycy5pbmRleE9mKGNhbGxiYWNrKTtcbiBcdFx0XHRcdGlmIChpZHggPj0gMCkgaG90Ll9kaXNwb3NlSGFuZGxlcnMuc3BsaWNlKGlkeCwgMSk7XG4gXHRcdFx0fSxcblxuIFx0XHRcdC8vIE1hbmFnZW1lbnQgQVBJXG4gXHRcdFx0Y2hlY2s6IGhvdENoZWNrLFxuIFx0XHRcdGFwcGx5OiBob3RBcHBseSxcbiBcdFx0XHRzdGF0dXM6IGZ1bmN0aW9uKGwpIHtcbiBcdFx0XHRcdGlmICghbCkgcmV0dXJuIGhvdFN0YXR1cztcbiBcdFx0XHRcdGhvdFN0YXR1c0hhbmRsZXJzLnB1c2gobCk7XG4gXHRcdFx0fSxcbiBcdFx0XHRhZGRTdGF0dXNIYW5kbGVyOiBmdW5jdGlvbihsKSB7XG4gXHRcdFx0XHRob3RTdGF0dXNIYW5kbGVycy5wdXNoKGwpO1xuIFx0XHRcdH0sXG4gXHRcdFx0cmVtb3ZlU3RhdHVzSGFuZGxlcjogZnVuY3Rpb24obCkge1xuIFx0XHRcdFx0dmFyIGlkeCA9IGhvdFN0YXR1c0hhbmRsZXJzLmluZGV4T2YobCk7XG4gXHRcdFx0XHRpZiAoaWR4ID49IDApIGhvdFN0YXR1c0hhbmRsZXJzLnNwbGljZShpZHgsIDEpO1xuIFx0XHRcdH0sXG5cbiBcdFx0XHQvL2luaGVyaXQgZnJvbSBwcmV2aW91cyBkaXNwb3NlIGNhbGxcbiBcdFx0XHRkYXRhOiBob3RDdXJyZW50TW9kdWxlRGF0YVttb2R1bGVJZF1cbiBcdFx0fTtcbiBcdFx0aG90Q3VycmVudENoaWxkTW9kdWxlID0gdW5kZWZpbmVkO1xuIFx0XHRyZXR1cm4gaG90O1xuIFx0fVxuXG4gXHR2YXIgaG90U3RhdHVzSGFuZGxlcnMgPSBbXTtcbiBcdHZhciBob3RTdGF0dXMgPSBcImlkbGVcIjtcblxuIFx0ZnVuY3Rpb24gaG90U2V0U3RhdHVzKG5ld1N0YXR1cykge1xuIFx0XHRob3RTdGF0dXMgPSBuZXdTdGF0dXM7XG4gXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgaG90U3RhdHVzSGFuZGxlcnMubGVuZ3RoOyBpKyspXG4gXHRcdFx0aG90U3RhdHVzSGFuZGxlcnNbaV0uY2FsbChudWxsLCBuZXdTdGF0dXMpO1xuIFx0fVxuXG4gXHQvLyB3aGlsZSBkb3dubG9hZGluZ1xuIFx0dmFyIGhvdFdhaXRpbmdGaWxlcyA9IDA7XG4gXHR2YXIgaG90Q2h1bmtzTG9hZGluZyA9IDA7XG4gXHR2YXIgaG90V2FpdGluZ0ZpbGVzTWFwID0ge307XG4gXHR2YXIgaG90UmVxdWVzdGVkRmlsZXNNYXAgPSB7fTtcbiBcdHZhciBob3RBdmFpbGFibGVGaWxlc01hcCA9IHt9O1xuIFx0dmFyIGhvdERlZmVycmVkO1xuXG4gXHQvLyBUaGUgdXBkYXRlIGluZm9cbiBcdHZhciBob3RVcGRhdGUsIGhvdFVwZGF0ZU5ld0hhc2g7XG5cbiBcdGZ1bmN0aW9uIHRvTW9kdWxlSWQoaWQpIHtcbiBcdFx0dmFyIGlzTnVtYmVyID0gK2lkICsgXCJcIiA9PT0gaWQ7XG4gXHRcdHJldHVybiBpc051bWJlciA/ICtpZCA6IGlkO1xuIFx0fVxuXG4gXHRmdW5jdGlvbiBob3RDaGVjayhhcHBseSkge1xuIFx0XHRpZiAoaG90U3RhdHVzICE9PSBcImlkbGVcIikge1xuIFx0XHRcdHRocm93IG5ldyBFcnJvcihcImNoZWNrKCkgaXMgb25seSBhbGxvd2VkIGluIGlkbGUgc3RhdHVzXCIpO1xuIFx0XHR9XG4gXHRcdGhvdEFwcGx5T25VcGRhdGUgPSBhcHBseTtcbiBcdFx0aG90U2V0U3RhdHVzKFwiY2hlY2tcIik7XG4gXHRcdHJldHVybiBob3REb3dubG9hZE1hbmlmZXN0KGhvdFJlcXVlc3RUaW1lb3V0KS50aGVuKGZ1bmN0aW9uKHVwZGF0ZSkge1xuIFx0XHRcdGlmICghdXBkYXRlKSB7XG4gXHRcdFx0XHRob3RTZXRTdGF0dXMoXCJpZGxlXCIpO1xuIFx0XHRcdFx0cmV0dXJuIG51bGw7XG4gXHRcdFx0fVxuIFx0XHRcdGhvdFJlcXVlc3RlZEZpbGVzTWFwID0ge307XG4gXHRcdFx0aG90V2FpdGluZ0ZpbGVzTWFwID0ge307XG4gXHRcdFx0aG90QXZhaWxhYmxlRmlsZXNNYXAgPSB1cGRhdGUuYztcbiBcdFx0XHRob3RVcGRhdGVOZXdIYXNoID0gdXBkYXRlLmg7XG5cbiBcdFx0XHRob3RTZXRTdGF0dXMoXCJwcmVwYXJlXCIpO1xuIFx0XHRcdHZhciBwcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gXHRcdFx0XHRob3REZWZlcnJlZCA9IHtcbiBcdFx0XHRcdFx0cmVzb2x2ZTogcmVzb2x2ZSxcbiBcdFx0XHRcdFx0cmVqZWN0OiByZWplY3RcbiBcdFx0XHRcdH07XG4gXHRcdFx0fSk7XG4gXHRcdFx0aG90VXBkYXRlID0ge307XG4gXHRcdFx0dmFyIGNodW5rSWQgPSAwO1xuIFx0XHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1sb25lLWJsb2Nrc1xuIFx0XHRcdHtcbiBcdFx0XHRcdC8qZ2xvYmFscyBjaHVua0lkICovXG4gXHRcdFx0XHRob3RFbnN1cmVVcGRhdGVDaHVuayhjaHVua0lkKTtcbiBcdFx0XHR9XG4gXHRcdFx0aWYgKFxuIFx0XHRcdFx0aG90U3RhdHVzID09PSBcInByZXBhcmVcIiAmJlxuIFx0XHRcdFx0aG90Q2h1bmtzTG9hZGluZyA9PT0gMCAmJlxuIFx0XHRcdFx0aG90V2FpdGluZ0ZpbGVzID09PSAwXG4gXHRcdFx0KSB7XG4gXHRcdFx0XHRob3RVcGRhdGVEb3dubG9hZGVkKCk7XG4gXHRcdFx0fVxuIFx0XHRcdHJldHVybiBwcm9taXNlO1xuIFx0XHR9KTtcbiBcdH1cblxuIFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzXG4gXHRmdW5jdGlvbiBob3RBZGRVcGRhdGVDaHVuayhjaHVua0lkLCBtb3JlTW9kdWxlcykge1xuIFx0XHRpZiAoIWhvdEF2YWlsYWJsZUZpbGVzTWFwW2NodW5rSWRdIHx8ICFob3RSZXF1ZXN0ZWRGaWxlc01hcFtjaHVua0lkXSlcbiBcdFx0XHRyZXR1cm47XG4gXHRcdGhvdFJlcXVlc3RlZEZpbGVzTWFwW2NodW5rSWRdID0gZmFsc2U7XG4gXHRcdGZvciAodmFyIG1vZHVsZUlkIGluIG1vcmVNb2R1bGVzKSB7XG4gXHRcdFx0aWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChtb3JlTW9kdWxlcywgbW9kdWxlSWQpKSB7XG4gXHRcdFx0XHRob3RVcGRhdGVbbW9kdWxlSWRdID0gbW9yZU1vZHVsZXNbbW9kdWxlSWRdO1xuIFx0XHRcdH1cbiBcdFx0fVxuIFx0XHRpZiAoLS1ob3RXYWl0aW5nRmlsZXMgPT09IDAgJiYgaG90Q2h1bmtzTG9hZGluZyA9PT0gMCkge1xuIFx0XHRcdGhvdFVwZGF0ZURvd25sb2FkZWQoKTtcbiBcdFx0fVxuIFx0fVxuXG4gXHRmdW5jdGlvbiBob3RFbnN1cmVVcGRhdGVDaHVuayhjaHVua0lkKSB7XG4gXHRcdGlmICghaG90QXZhaWxhYmxlRmlsZXNNYXBbY2h1bmtJZF0pIHtcbiBcdFx0XHRob3RXYWl0aW5nRmlsZXNNYXBbY2h1bmtJZF0gPSB0cnVlO1xuIFx0XHR9IGVsc2Uge1xuIFx0XHRcdGhvdFJlcXVlc3RlZEZpbGVzTWFwW2NodW5rSWRdID0gdHJ1ZTtcbiBcdFx0XHRob3RXYWl0aW5nRmlsZXMrKztcbiBcdFx0XHRob3REb3dubG9hZFVwZGF0ZUNodW5rKGNodW5rSWQpO1xuIFx0XHR9XG4gXHR9XG5cbiBcdGZ1bmN0aW9uIGhvdFVwZGF0ZURvd25sb2FkZWQoKSB7XG4gXHRcdGhvdFNldFN0YXR1cyhcInJlYWR5XCIpO1xuIFx0XHR2YXIgZGVmZXJyZWQgPSBob3REZWZlcnJlZDtcbiBcdFx0aG90RGVmZXJyZWQgPSBudWxsO1xuIFx0XHRpZiAoIWRlZmVycmVkKSByZXR1cm47XG4gXHRcdGlmIChob3RBcHBseU9uVXBkYXRlKSB7XG4gXHRcdFx0Ly8gV3JhcCBkZWZlcnJlZCBvYmplY3QgaW4gUHJvbWlzZSB0byBtYXJrIGl0IGFzIGEgd2VsbC1oYW5kbGVkIFByb21pc2UgdG9cbiBcdFx0XHQvLyBhdm9pZCB0cmlnZ2VyaW5nIHVuY2F1Z2h0IGV4Y2VwdGlvbiB3YXJuaW5nIGluIENocm9tZS5cbiBcdFx0XHQvLyBTZWUgaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9NDY1NjY2XG4gXHRcdFx0UHJvbWlzZS5yZXNvbHZlKClcbiBcdFx0XHRcdC50aGVuKGZ1bmN0aW9uKCkge1xuIFx0XHRcdFx0XHRyZXR1cm4gaG90QXBwbHkoaG90QXBwbHlPblVwZGF0ZSk7XG4gXHRcdFx0XHR9KVxuIFx0XHRcdFx0LnRoZW4oXG4gXHRcdFx0XHRcdGZ1bmN0aW9uKHJlc3VsdCkge1xuIFx0XHRcdFx0XHRcdGRlZmVycmVkLnJlc29sdmUocmVzdWx0KTtcbiBcdFx0XHRcdFx0fSxcbiBcdFx0XHRcdFx0ZnVuY3Rpb24oZXJyKSB7XG4gXHRcdFx0XHRcdFx0ZGVmZXJyZWQucmVqZWN0KGVycik7XG4gXHRcdFx0XHRcdH1cbiBcdFx0XHRcdCk7XG4gXHRcdH0gZWxzZSB7XG4gXHRcdFx0dmFyIG91dGRhdGVkTW9kdWxlcyA9IFtdO1xuIFx0XHRcdGZvciAodmFyIGlkIGluIGhvdFVwZGF0ZSkge1xuIFx0XHRcdFx0aWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChob3RVcGRhdGUsIGlkKSkge1xuIFx0XHRcdFx0XHRvdXRkYXRlZE1vZHVsZXMucHVzaCh0b01vZHVsZUlkKGlkKSk7XG4gXHRcdFx0XHR9XG4gXHRcdFx0fVxuIFx0XHRcdGRlZmVycmVkLnJlc29sdmUob3V0ZGF0ZWRNb2R1bGVzKTtcbiBcdFx0fVxuIFx0fVxuXG4gXHRmdW5jdGlvbiBob3RBcHBseShvcHRpb25zKSB7XG4gXHRcdGlmIChob3RTdGF0dXMgIT09IFwicmVhZHlcIilcbiBcdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJhcHBseSgpIGlzIG9ubHkgYWxsb3dlZCBpbiByZWFkeSBzdGF0dXNcIik7XG4gXHRcdG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gXHRcdHZhciBjYjtcbiBcdFx0dmFyIGk7XG4gXHRcdHZhciBqO1xuIFx0XHR2YXIgbW9kdWxlO1xuIFx0XHR2YXIgbW9kdWxlSWQ7XG5cbiBcdFx0ZnVuY3Rpb24gZ2V0QWZmZWN0ZWRTdHVmZih1cGRhdGVNb2R1bGVJZCkge1xuIFx0XHRcdHZhciBvdXRkYXRlZE1vZHVsZXMgPSBbdXBkYXRlTW9kdWxlSWRdO1xuIFx0XHRcdHZhciBvdXRkYXRlZERlcGVuZGVuY2llcyA9IHt9O1xuXG4gXHRcdFx0dmFyIHF1ZXVlID0gb3V0ZGF0ZWRNb2R1bGVzLnNsaWNlKCkubWFwKGZ1bmN0aW9uKGlkKSB7XG4gXHRcdFx0XHRyZXR1cm4ge1xuIFx0XHRcdFx0XHRjaGFpbjogW2lkXSxcbiBcdFx0XHRcdFx0aWQ6IGlkXG4gXHRcdFx0XHR9O1xuIFx0XHRcdH0pO1xuIFx0XHRcdHdoaWxlIChxdWV1ZS5sZW5ndGggPiAwKSB7XG4gXHRcdFx0XHR2YXIgcXVldWVJdGVtID0gcXVldWUucG9wKCk7XG4gXHRcdFx0XHR2YXIgbW9kdWxlSWQgPSBxdWV1ZUl0ZW0uaWQ7XG4gXHRcdFx0XHR2YXIgY2hhaW4gPSBxdWV1ZUl0ZW0uY2hhaW47XG4gXHRcdFx0XHRtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXTtcbiBcdFx0XHRcdGlmICghbW9kdWxlIHx8IG1vZHVsZS5ob3QuX3NlbGZBY2NlcHRlZCkgY29udGludWU7XG4gXHRcdFx0XHRpZiAobW9kdWxlLmhvdC5fc2VsZkRlY2xpbmVkKSB7XG4gXHRcdFx0XHRcdHJldHVybiB7XG4gXHRcdFx0XHRcdFx0dHlwZTogXCJzZWxmLWRlY2xpbmVkXCIsXG4gXHRcdFx0XHRcdFx0Y2hhaW46IGNoYWluLFxuIFx0XHRcdFx0XHRcdG1vZHVsZUlkOiBtb2R1bGVJZFxuIFx0XHRcdFx0XHR9O1xuIFx0XHRcdFx0fVxuIFx0XHRcdFx0aWYgKG1vZHVsZS5ob3QuX21haW4pIHtcbiBcdFx0XHRcdFx0cmV0dXJuIHtcbiBcdFx0XHRcdFx0XHR0eXBlOiBcInVuYWNjZXB0ZWRcIixcbiBcdFx0XHRcdFx0XHRjaGFpbjogY2hhaW4sXG4gXHRcdFx0XHRcdFx0bW9kdWxlSWQ6IG1vZHVsZUlkXG4gXHRcdFx0XHRcdH07XG4gXHRcdFx0XHR9XG4gXHRcdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IG1vZHVsZS5wYXJlbnRzLmxlbmd0aDsgaSsrKSB7XG4gXHRcdFx0XHRcdHZhciBwYXJlbnRJZCA9IG1vZHVsZS5wYXJlbnRzW2ldO1xuIFx0XHRcdFx0XHR2YXIgcGFyZW50ID0gaW5zdGFsbGVkTW9kdWxlc1twYXJlbnRJZF07XG4gXHRcdFx0XHRcdGlmICghcGFyZW50KSBjb250aW51ZTtcbiBcdFx0XHRcdFx0aWYgKHBhcmVudC5ob3QuX2RlY2xpbmVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXSkge1xuIFx0XHRcdFx0XHRcdHJldHVybiB7XG4gXHRcdFx0XHRcdFx0XHR0eXBlOiBcImRlY2xpbmVkXCIsXG4gXHRcdFx0XHRcdFx0XHRjaGFpbjogY2hhaW4uY29uY2F0KFtwYXJlbnRJZF0pLFxuIFx0XHRcdFx0XHRcdFx0bW9kdWxlSWQ6IG1vZHVsZUlkLFxuIFx0XHRcdFx0XHRcdFx0cGFyZW50SWQ6IHBhcmVudElkXG4gXHRcdFx0XHRcdFx0fTtcbiBcdFx0XHRcdFx0fVxuIFx0XHRcdFx0XHRpZiAob3V0ZGF0ZWRNb2R1bGVzLmluZGV4T2YocGFyZW50SWQpICE9PSAtMSkgY29udGludWU7XG4gXHRcdFx0XHRcdGlmIChwYXJlbnQuaG90Ll9hY2NlcHRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRcdFx0XHRpZiAoIW91dGRhdGVkRGVwZW5kZW5jaWVzW3BhcmVudElkXSlcbiBcdFx0XHRcdFx0XHRcdG91dGRhdGVkRGVwZW5kZW5jaWVzW3BhcmVudElkXSA9IFtdO1xuIFx0XHRcdFx0XHRcdGFkZEFsbFRvU2V0KG91dGRhdGVkRGVwZW5kZW5jaWVzW3BhcmVudElkXSwgW21vZHVsZUlkXSk7XG4gXHRcdFx0XHRcdFx0Y29udGludWU7XG4gXHRcdFx0XHRcdH1cbiBcdFx0XHRcdFx0ZGVsZXRlIG91dGRhdGVkRGVwZW5kZW5jaWVzW3BhcmVudElkXTtcbiBcdFx0XHRcdFx0b3V0ZGF0ZWRNb2R1bGVzLnB1c2gocGFyZW50SWQpO1xuIFx0XHRcdFx0XHRxdWV1ZS5wdXNoKHtcbiBcdFx0XHRcdFx0XHRjaGFpbjogY2hhaW4uY29uY2F0KFtwYXJlbnRJZF0pLFxuIFx0XHRcdFx0XHRcdGlkOiBwYXJlbnRJZFxuIFx0XHRcdFx0XHR9KTtcbiBcdFx0XHRcdH1cbiBcdFx0XHR9XG5cbiBcdFx0XHRyZXR1cm4ge1xuIFx0XHRcdFx0dHlwZTogXCJhY2NlcHRlZFwiLFxuIFx0XHRcdFx0bW9kdWxlSWQ6IHVwZGF0ZU1vZHVsZUlkLFxuIFx0XHRcdFx0b3V0ZGF0ZWRNb2R1bGVzOiBvdXRkYXRlZE1vZHVsZXMsXG4gXHRcdFx0XHRvdXRkYXRlZERlcGVuZGVuY2llczogb3V0ZGF0ZWREZXBlbmRlbmNpZXNcbiBcdFx0XHR9O1xuIFx0XHR9XG5cbiBcdFx0ZnVuY3Rpb24gYWRkQWxsVG9TZXQoYSwgYikge1xuIFx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgYi5sZW5ndGg7IGkrKykge1xuIFx0XHRcdFx0dmFyIGl0ZW0gPSBiW2ldO1xuIFx0XHRcdFx0aWYgKGEuaW5kZXhPZihpdGVtKSA9PT0gLTEpIGEucHVzaChpdGVtKTtcbiBcdFx0XHR9XG4gXHRcdH1cblxuIFx0XHQvLyBhdCBiZWdpbiBhbGwgdXBkYXRlcyBtb2R1bGVzIGFyZSBvdXRkYXRlZFxuIFx0XHQvLyB0aGUgXCJvdXRkYXRlZFwiIHN0YXR1cyBjYW4gcHJvcGFnYXRlIHRvIHBhcmVudHMgaWYgdGhleSBkb24ndCBhY2NlcHQgdGhlIGNoaWxkcmVuXG4gXHRcdHZhciBvdXRkYXRlZERlcGVuZGVuY2llcyA9IHt9O1xuIFx0XHR2YXIgb3V0ZGF0ZWRNb2R1bGVzID0gW107XG4gXHRcdHZhciBhcHBsaWVkVXBkYXRlID0ge307XG5cbiBcdFx0dmFyIHdhcm5VbmV4cGVjdGVkUmVxdWlyZSA9IGZ1bmN0aW9uIHdhcm5VbmV4cGVjdGVkUmVxdWlyZSgpIHtcbiBcdFx0XHRjb25zb2xlLndhcm4oXG4gXHRcdFx0XHRcIltITVJdIHVuZXhwZWN0ZWQgcmVxdWlyZShcIiArIHJlc3VsdC5tb2R1bGVJZCArIFwiKSB0byBkaXNwb3NlZCBtb2R1bGVcIlxuIFx0XHRcdCk7XG4gXHRcdH07XG5cbiBcdFx0Zm9yICh2YXIgaWQgaW4gaG90VXBkYXRlKSB7XG4gXHRcdFx0aWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChob3RVcGRhdGUsIGlkKSkge1xuIFx0XHRcdFx0bW9kdWxlSWQgPSB0b01vZHVsZUlkKGlkKTtcbiBcdFx0XHRcdC8qKiBAdHlwZSB7VE9ET30gKi9cbiBcdFx0XHRcdHZhciByZXN1bHQ7XG4gXHRcdFx0XHRpZiAoaG90VXBkYXRlW2lkXSkge1xuIFx0XHRcdFx0XHRyZXN1bHQgPSBnZXRBZmZlY3RlZFN0dWZmKG1vZHVsZUlkKTtcbiBcdFx0XHRcdH0gZWxzZSB7XG4gXHRcdFx0XHRcdHJlc3VsdCA9IHtcbiBcdFx0XHRcdFx0XHR0eXBlOiBcImRpc3Bvc2VkXCIsXG4gXHRcdFx0XHRcdFx0bW9kdWxlSWQ6IGlkXG4gXHRcdFx0XHRcdH07XG4gXHRcdFx0XHR9XG4gXHRcdFx0XHQvKiogQHR5cGUge0Vycm9yfGZhbHNlfSAqL1xuIFx0XHRcdFx0dmFyIGFib3J0RXJyb3IgPSBmYWxzZTtcbiBcdFx0XHRcdHZhciBkb0FwcGx5ID0gZmFsc2U7XG4gXHRcdFx0XHR2YXIgZG9EaXNwb3NlID0gZmFsc2U7XG4gXHRcdFx0XHR2YXIgY2hhaW5JbmZvID0gXCJcIjtcbiBcdFx0XHRcdGlmIChyZXN1bHQuY2hhaW4pIHtcbiBcdFx0XHRcdFx0Y2hhaW5JbmZvID0gXCJcXG5VcGRhdGUgcHJvcGFnYXRpb246IFwiICsgcmVzdWx0LmNoYWluLmpvaW4oXCIgLT4gXCIpO1xuIFx0XHRcdFx0fVxuIFx0XHRcdFx0c3dpdGNoIChyZXN1bHQudHlwZSkge1xuIFx0XHRcdFx0XHRjYXNlIFwic2VsZi1kZWNsaW5lZFwiOlxuIFx0XHRcdFx0XHRcdGlmIChvcHRpb25zLm9uRGVjbGluZWQpIG9wdGlvbnMub25EZWNsaW5lZChyZXN1bHQpO1xuIFx0XHRcdFx0XHRcdGlmICghb3B0aW9ucy5pZ25vcmVEZWNsaW5lZClcbiBcdFx0XHRcdFx0XHRcdGFib3J0RXJyb3IgPSBuZXcgRXJyb3IoXG4gXHRcdFx0XHRcdFx0XHRcdFwiQWJvcnRlZCBiZWNhdXNlIG9mIHNlbGYgZGVjbGluZTogXCIgK1xuIFx0XHRcdFx0XHRcdFx0XHRcdHJlc3VsdC5tb2R1bGVJZCArXG4gXHRcdFx0XHRcdFx0XHRcdFx0Y2hhaW5JbmZvXG4gXHRcdFx0XHRcdFx0XHQpO1xuIFx0XHRcdFx0XHRcdGJyZWFrO1xuIFx0XHRcdFx0XHRjYXNlIFwiZGVjbGluZWRcIjpcbiBcdFx0XHRcdFx0XHRpZiAob3B0aW9ucy5vbkRlY2xpbmVkKSBvcHRpb25zLm9uRGVjbGluZWQocmVzdWx0KTtcbiBcdFx0XHRcdFx0XHRpZiAoIW9wdGlvbnMuaWdub3JlRGVjbGluZWQpXG4gXHRcdFx0XHRcdFx0XHRhYm9ydEVycm9yID0gbmV3IEVycm9yKFxuIFx0XHRcdFx0XHRcdFx0XHRcIkFib3J0ZWQgYmVjYXVzZSBvZiBkZWNsaW5lZCBkZXBlbmRlbmN5OiBcIiArXG4gXHRcdFx0XHRcdFx0XHRcdFx0cmVzdWx0Lm1vZHVsZUlkICtcbiBcdFx0XHRcdFx0XHRcdFx0XHRcIiBpbiBcIiArXG4gXHRcdFx0XHRcdFx0XHRcdFx0cmVzdWx0LnBhcmVudElkICtcbiBcdFx0XHRcdFx0XHRcdFx0XHRjaGFpbkluZm9cbiBcdFx0XHRcdFx0XHRcdCk7XG4gXHRcdFx0XHRcdFx0YnJlYWs7XG4gXHRcdFx0XHRcdGNhc2UgXCJ1bmFjY2VwdGVkXCI6XG4gXHRcdFx0XHRcdFx0aWYgKG9wdGlvbnMub25VbmFjY2VwdGVkKSBvcHRpb25zLm9uVW5hY2NlcHRlZChyZXN1bHQpO1xuIFx0XHRcdFx0XHRcdGlmICghb3B0aW9ucy5pZ25vcmVVbmFjY2VwdGVkKVxuIFx0XHRcdFx0XHRcdFx0YWJvcnRFcnJvciA9IG5ldyBFcnJvcihcbiBcdFx0XHRcdFx0XHRcdFx0XCJBYm9ydGVkIGJlY2F1c2UgXCIgKyBtb2R1bGVJZCArIFwiIGlzIG5vdCBhY2NlcHRlZFwiICsgY2hhaW5JbmZvXG4gXHRcdFx0XHRcdFx0XHQpO1xuIFx0XHRcdFx0XHRcdGJyZWFrO1xuIFx0XHRcdFx0XHRjYXNlIFwiYWNjZXB0ZWRcIjpcbiBcdFx0XHRcdFx0XHRpZiAob3B0aW9ucy5vbkFjY2VwdGVkKSBvcHRpb25zLm9uQWNjZXB0ZWQocmVzdWx0KTtcbiBcdFx0XHRcdFx0XHRkb0FwcGx5ID0gdHJ1ZTtcbiBcdFx0XHRcdFx0XHRicmVhaztcbiBcdFx0XHRcdFx0Y2FzZSBcImRpc3Bvc2VkXCI6XG4gXHRcdFx0XHRcdFx0aWYgKG9wdGlvbnMub25EaXNwb3NlZCkgb3B0aW9ucy5vbkRpc3Bvc2VkKHJlc3VsdCk7XG4gXHRcdFx0XHRcdFx0ZG9EaXNwb3NlID0gdHJ1ZTtcbiBcdFx0XHRcdFx0XHRicmVhaztcbiBcdFx0XHRcdFx0ZGVmYXVsdDpcbiBcdFx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJVbmV4Y2VwdGlvbiB0eXBlIFwiICsgcmVzdWx0LnR5cGUpO1xuIFx0XHRcdFx0fVxuIFx0XHRcdFx0aWYgKGFib3J0RXJyb3IpIHtcbiBcdFx0XHRcdFx0aG90U2V0U3RhdHVzKFwiYWJvcnRcIik7XG4gXHRcdFx0XHRcdHJldHVybiBQcm9taXNlLnJlamVjdChhYm9ydEVycm9yKTtcbiBcdFx0XHRcdH1cbiBcdFx0XHRcdGlmIChkb0FwcGx5KSB7XG4gXHRcdFx0XHRcdGFwcGxpZWRVcGRhdGVbbW9kdWxlSWRdID0gaG90VXBkYXRlW21vZHVsZUlkXTtcbiBcdFx0XHRcdFx0YWRkQWxsVG9TZXQob3V0ZGF0ZWRNb2R1bGVzLCByZXN1bHQub3V0ZGF0ZWRNb2R1bGVzKTtcbiBcdFx0XHRcdFx0Zm9yIChtb2R1bGVJZCBpbiByZXN1bHQub3V0ZGF0ZWREZXBlbmRlbmNpZXMpIHtcbiBcdFx0XHRcdFx0XHRpZiAoXG4gXHRcdFx0XHRcdFx0XHRPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoXG4gXHRcdFx0XHRcdFx0XHRcdHJlc3VsdC5vdXRkYXRlZERlcGVuZGVuY2llcyxcbiBcdFx0XHRcdFx0XHRcdFx0bW9kdWxlSWRcbiBcdFx0XHRcdFx0XHRcdClcbiBcdFx0XHRcdFx0XHQpIHtcbiBcdFx0XHRcdFx0XHRcdGlmICghb3V0ZGF0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdKVxuIFx0XHRcdFx0XHRcdFx0XHRvdXRkYXRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF0gPSBbXTtcbiBcdFx0XHRcdFx0XHRcdGFkZEFsbFRvU2V0KFxuIFx0XHRcdFx0XHRcdFx0XHRvdXRkYXRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF0sXG4gXHRcdFx0XHRcdFx0XHRcdHJlc3VsdC5vdXRkYXRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF1cbiBcdFx0XHRcdFx0XHRcdCk7XG4gXHRcdFx0XHRcdFx0fVxuIFx0XHRcdFx0XHR9XG4gXHRcdFx0XHR9XG4gXHRcdFx0XHRpZiAoZG9EaXNwb3NlKSB7XG4gXHRcdFx0XHRcdGFkZEFsbFRvU2V0KG91dGRhdGVkTW9kdWxlcywgW3Jlc3VsdC5tb2R1bGVJZF0pO1xuIFx0XHRcdFx0XHRhcHBsaWVkVXBkYXRlW21vZHVsZUlkXSA9IHdhcm5VbmV4cGVjdGVkUmVxdWlyZTtcbiBcdFx0XHRcdH1cbiBcdFx0XHR9XG4gXHRcdH1cblxuIFx0XHQvLyBTdG9yZSBzZWxmIGFjY2VwdGVkIG91dGRhdGVkIG1vZHVsZXMgdG8gcmVxdWlyZSB0aGVtIGxhdGVyIGJ5IHRoZSBtb2R1bGUgc3lzdGVtXG4gXHRcdHZhciBvdXRkYXRlZFNlbGZBY2NlcHRlZE1vZHVsZXMgPSBbXTtcbiBcdFx0Zm9yIChpID0gMDsgaSA8IG91dGRhdGVkTW9kdWxlcy5sZW5ndGg7IGkrKykge1xuIFx0XHRcdG1vZHVsZUlkID0gb3V0ZGF0ZWRNb2R1bGVzW2ldO1xuIFx0XHRcdGlmIChcbiBcdFx0XHRcdGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdICYmXG4gXHRcdFx0XHRpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5ob3QuX3NlbGZBY2NlcHRlZFxuIFx0XHRcdClcbiBcdFx0XHRcdG91dGRhdGVkU2VsZkFjY2VwdGVkTW9kdWxlcy5wdXNoKHtcbiBcdFx0XHRcdFx0bW9kdWxlOiBtb2R1bGVJZCxcbiBcdFx0XHRcdFx0ZXJyb3JIYW5kbGVyOiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5ob3QuX3NlbGZBY2NlcHRlZFxuIFx0XHRcdFx0fSk7XG4gXHRcdH1cblxuIFx0XHQvLyBOb3cgaW4gXCJkaXNwb3NlXCIgcGhhc2VcbiBcdFx0aG90U2V0U3RhdHVzKFwiZGlzcG9zZVwiKTtcbiBcdFx0T2JqZWN0LmtleXMoaG90QXZhaWxhYmxlRmlsZXNNYXApLmZvckVhY2goZnVuY3Rpb24oY2h1bmtJZCkge1xuIFx0XHRcdGlmIChob3RBdmFpbGFibGVGaWxlc01hcFtjaHVua0lkXSA9PT0gZmFsc2UpIHtcbiBcdFx0XHRcdGhvdERpc3Bvc2VDaHVuayhjaHVua0lkKTtcbiBcdFx0XHR9XG4gXHRcdH0pO1xuXG4gXHRcdHZhciBpZHg7XG4gXHRcdHZhciBxdWV1ZSA9IG91dGRhdGVkTW9kdWxlcy5zbGljZSgpO1xuIFx0XHR3aGlsZSAocXVldWUubGVuZ3RoID4gMCkge1xuIFx0XHRcdG1vZHVsZUlkID0gcXVldWUucG9wKCk7XG4gXHRcdFx0bW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF07XG4gXHRcdFx0aWYgKCFtb2R1bGUpIGNvbnRpbnVlO1xuXG4gXHRcdFx0dmFyIGRhdGEgPSB7fTtcblxuIFx0XHRcdC8vIENhbGwgZGlzcG9zZSBoYW5kbGVyc1xuIFx0XHRcdHZhciBkaXNwb3NlSGFuZGxlcnMgPSBtb2R1bGUuaG90Ll9kaXNwb3NlSGFuZGxlcnM7XG4gXHRcdFx0Zm9yIChqID0gMDsgaiA8IGRpc3Bvc2VIYW5kbGVycy5sZW5ndGg7IGorKykge1xuIFx0XHRcdFx0Y2IgPSBkaXNwb3NlSGFuZGxlcnNbal07XG4gXHRcdFx0XHRjYihkYXRhKTtcbiBcdFx0XHR9XG4gXHRcdFx0aG90Q3VycmVudE1vZHVsZURhdGFbbW9kdWxlSWRdID0gZGF0YTtcblxuIFx0XHRcdC8vIGRpc2FibGUgbW9kdWxlICh0aGlzIGRpc2FibGVzIHJlcXVpcmVzIGZyb20gdGhpcyBtb2R1bGUpXG4gXHRcdFx0bW9kdWxlLmhvdC5hY3RpdmUgPSBmYWxzZTtcblxuIFx0XHRcdC8vIHJlbW92ZSBtb2R1bGUgZnJvbSBjYWNoZVxuIFx0XHRcdGRlbGV0ZSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXTtcblxuIFx0XHRcdC8vIHdoZW4gZGlzcG9zaW5nIHRoZXJlIGlzIG5vIG5lZWQgdG8gY2FsbCBkaXNwb3NlIGhhbmRsZXJcbiBcdFx0XHRkZWxldGUgb3V0ZGF0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdO1xuXG4gXHRcdFx0Ly8gcmVtb3ZlIFwicGFyZW50c1wiIHJlZmVyZW5jZXMgZnJvbSBhbGwgY2hpbGRyZW5cbiBcdFx0XHRmb3IgKGogPSAwOyBqIDwgbW9kdWxlLmNoaWxkcmVuLmxlbmd0aDsgaisrKSB7XG4gXHRcdFx0XHR2YXIgY2hpbGQgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZS5jaGlsZHJlbltqXV07XG4gXHRcdFx0XHRpZiAoIWNoaWxkKSBjb250aW51ZTtcbiBcdFx0XHRcdGlkeCA9IGNoaWxkLnBhcmVudHMuaW5kZXhPZihtb2R1bGVJZCk7XG4gXHRcdFx0XHRpZiAoaWR4ID49IDApIHtcbiBcdFx0XHRcdFx0Y2hpbGQucGFyZW50cy5zcGxpY2UoaWR4LCAxKTtcbiBcdFx0XHRcdH1cbiBcdFx0XHR9XG4gXHRcdH1cblxuIFx0XHQvLyByZW1vdmUgb3V0ZGF0ZWQgZGVwZW5kZW5jeSBmcm9tIG1vZHVsZSBjaGlsZHJlblxuIFx0XHR2YXIgZGVwZW5kZW5jeTtcbiBcdFx0dmFyIG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzO1xuIFx0XHRmb3IgKG1vZHVsZUlkIGluIG91dGRhdGVkRGVwZW5kZW5jaWVzKSB7XG4gXHRcdFx0aWYgKFxuIFx0XHRcdFx0T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG91dGRhdGVkRGVwZW5kZW5jaWVzLCBtb2R1bGVJZClcbiBcdFx0XHQpIHtcbiBcdFx0XHRcdG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdO1xuIFx0XHRcdFx0aWYgKG1vZHVsZSkge1xuIFx0XHRcdFx0XHRtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llcyA9IG91dGRhdGVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXTtcbiBcdFx0XHRcdFx0Zm9yIChqID0gMDsgaiA8IG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzLmxlbmd0aDsgaisrKSB7XG4gXHRcdFx0XHRcdFx0ZGVwZW5kZW5jeSA9IG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzW2pdO1xuIFx0XHRcdFx0XHRcdGlkeCA9IG1vZHVsZS5jaGlsZHJlbi5pbmRleE9mKGRlcGVuZGVuY3kpO1xuIFx0XHRcdFx0XHRcdGlmIChpZHggPj0gMCkgbW9kdWxlLmNoaWxkcmVuLnNwbGljZShpZHgsIDEpO1xuIFx0XHRcdFx0XHR9XG4gXHRcdFx0XHR9XG4gXHRcdFx0fVxuIFx0XHR9XG5cbiBcdFx0Ly8gTm90IGluIFwiYXBwbHlcIiBwaGFzZVxuIFx0XHRob3RTZXRTdGF0dXMoXCJhcHBseVwiKTtcblxuIFx0XHRob3RDdXJyZW50SGFzaCA9IGhvdFVwZGF0ZU5ld0hhc2g7XG5cbiBcdFx0Ly8gaW5zZXJ0IG5ldyBjb2RlXG4gXHRcdGZvciAobW9kdWxlSWQgaW4gYXBwbGllZFVwZGF0ZSkge1xuIFx0XHRcdGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYXBwbGllZFVwZGF0ZSwgbW9kdWxlSWQpKSB7XG4gXHRcdFx0XHRtb2R1bGVzW21vZHVsZUlkXSA9IGFwcGxpZWRVcGRhdGVbbW9kdWxlSWRdO1xuIFx0XHRcdH1cbiBcdFx0fVxuXG4gXHRcdC8vIGNhbGwgYWNjZXB0IGhhbmRsZXJzXG4gXHRcdHZhciBlcnJvciA9IG51bGw7XG4gXHRcdGZvciAobW9kdWxlSWQgaW4gb3V0ZGF0ZWREZXBlbmRlbmNpZXMpIHtcbiBcdFx0XHRpZiAoXG4gXHRcdFx0XHRPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob3V0ZGF0ZWREZXBlbmRlbmNpZXMsIG1vZHVsZUlkKVxuIFx0XHRcdCkge1xuIFx0XHRcdFx0bW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF07XG4gXHRcdFx0XHRpZiAobW9kdWxlKSB7XG4gXHRcdFx0XHRcdG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzID0gb3V0ZGF0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdO1xuIFx0XHRcdFx0XHR2YXIgY2FsbGJhY2tzID0gW107XG4gXHRcdFx0XHRcdGZvciAoaSA9IDA7IGkgPCBtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llcy5sZW5ndGg7IGkrKykge1xuIFx0XHRcdFx0XHRcdGRlcGVuZGVuY3kgPSBtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llc1tpXTtcbiBcdFx0XHRcdFx0XHRjYiA9IG1vZHVsZS5ob3QuX2FjY2VwdGVkRGVwZW5kZW5jaWVzW2RlcGVuZGVuY3ldO1xuIFx0XHRcdFx0XHRcdGlmIChjYikge1xuIFx0XHRcdFx0XHRcdFx0aWYgKGNhbGxiYWNrcy5pbmRleE9mKGNiKSAhPT0gLTEpIGNvbnRpbnVlO1xuIFx0XHRcdFx0XHRcdFx0Y2FsbGJhY2tzLnB1c2goY2IpO1xuIFx0XHRcdFx0XHRcdH1cbiBcdFx0XHRcdFx0fVxuIFx0XHRcdFx0XHRmb3IgKGkgPSAwOyBpIDwgY2FsbGJhY2tzLmxlbmd0aDsgaSsrKSB7XG4gXHRcdFx0XHRcdFx0Y2IgPSBjYWxsYmFja3NbaV07XG4gXHRcdFx0XHRcdFx0dHJ5IHtcbiBcdFx0XHRcdFx0XHRcdGNiKG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzKTtcbiBcdFx0XHRcdFx0XHR9IGNhdGNoIChlcnIpIHtcbiBcdFx0XHRcdFx0XHRcdGlmIChvcHRpb25zLm9uRXJyb3JlZCkge1xuIFx0XHRcdFx0XHRcdFx0XHRvcHRpb25zLm9uRXJyb3JlZCh7XG4gXHRcdFx0XHRcdFx0XHRcdFx0dHlwZTogXCJhY2NlcHQtZXJyb3JlZFwiLFxuIFx0XHRcdFx0XHRcdFx0XHRcdG1vZHVsZUlkOiBtb2R1bGVJZCxcbiBcdFx0XHRcdFx0XHRcdFx0XHRkZXBlbmRlbmN5SWQ6IG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzW2ldLFxuIFx0XHRcdFx0XHRcdFx0XHRcdGVycm9yOiBlcnJcbiBcdFx0XHRcdFx0XHRcdFx0fSk7XG4gXHRcdFx0XHRcdFx0XHR9XG4gXHRcdFx0XHRcdFx0XHRpZiAoIW9wdGlvbnMuaWdub3JlRXJyb3JlZCkge1xuIFx0XHRcdFx0XHRcdFx0XHRpZiAoIWVycm9yKSBlcnJvciA9IGVycjtcbiBcdFx0XHRcdFx0XHRcdH1cbiBcdFx0XHRcdFx0XHR9XG4gXHRcdFx0XHRcdH1cbiBcdFx0XHRcdH1cbiBcdFx0XHR9XG4gXHRcdH1cblxuIFx0XHQvLyBMb2FkIHNlbGYgYWNjZXB0ZWQgbW9kdWxlc1xuIFx0XHRmb3IgKGkgPSAwOyBpIDwgb3V0ZGF0ZWRTZWxmQWNjZXB0ZWRNb2R1bGVzLmxlbmd0aDsgaSsrKSB7XG4gXHRcdFx0dmFyIGl0ZW0gPSBvdXRkYXRlZFNlbGZBY2NlcHRlZE1vZHVsZXNbaV07XG4gXHRcdFx0bW9kdWxlSWQgPSBpdGVtLm1vZHVsZTtcbiBcdFx0XHRob3RDdXJyZW50UGFyZW50cyA9IFttb2R1bGVJZF07XG4gXHRcdFx0dHJ5IHtcbiBcdFx0XHRcdF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpO1xuIFx0XHRcdH0gY2F0Y2ggKGVycikge1xuIFx0XHRcdFx0aWYgKHR5cGVvZiBpdGVtLmVycm9ySGFuZGxlciA9PT0gXCJmdW5jdGlvblwiKSB7XG4gXHRcdFx0XHRcdHRyeSB7XG4gXHRcdFx0XHRcdFx0aXRlbS5lcnJvckhhbmRsZXIoZXJyKTtcbiBcdFx0XHRcdFx0fSBjYXRjaCAoZXJyMikge1xuIFx0XHRcdFx0XHRcdGlmIChvcHRpb25zLm9uRXJyb3JlZCkge1xuIFx0XHRcdFx0XHRcdFx0b3B0aW9ucy5vbkVycm9yZWQoe1xuIFx0XHRcdFx0XHRcdFx0XHR0eXBlOiBcInNlbGYtYWNjZXB0LWVycm9yLWhhbmRsZXItZXJyb3JlZFwiLFxuIFx0XHRcdFx0XHRcdFx0XHRtb2R1bGVJZDogbW9kdWxlSWQsXG4gXHRcdFx0XHRcdFx0XHRcdGVycm9yOiBlcnIyLFxuIFx0XHRcdFx0XHRcdFx0XHRvcmlnaW5hbEVycm9yOiBlcnJcbiBcdFx0XHRcdFx0XHRcdH0pO1xuIFx0XHRcdFx0XHRcdH1cbiBcdFx0XHRcdFx0XHRpZiAoIW9wdGlvbnMuaWdub3JlRXJyb3JlZCkge1xuIFx0XHRcdFx0XHRcdFx0aWYgKCFlcnJvcikgZXJyb3IgPSBlcnIyO1xuIFx0XHRcdFx0XHRcdH1cbiBcdFx0XHRcdFx0XHRpZiAoIWVycm9yKSBlcnJvciA9IGVycjtcbiBcdFx0XHRcdFx0fVxuIFx0XHRcdFx0fSBlbHNlIHtcbiBcdFx0XHRcdFx0aWYgKG9wdGlvbnMub25FcnJvcmVkKSB7XG4gXHRcdFx0XHRcdFx0b3B0aW9ucy5vbkVycm9yZWQoe1xuIFx0XHRcdFx0XHRcdFx0dHlwZTogXCJzZWxmLWFjY2VwdC1lcnJvcmVkXCIsXG4gXHRcdFx0XHRcdFx0XHRtb2R1bGVJZDogbW9kdWxlSWQsXG4gXHRcdFx0XHRcdFx0XHRlcnJvcjogZXJyXG4gXHRcdFx0XHRcdFx0fSk7XG4gXHRcdFx0XHRcdH1cbiBcdFx0XHRcdFx0aWYgKCFvcHRpb25zLmlnbm9yZUVycm9yZWQpIHtcbiBcdFx0XHRcdFx0XHRpZiAoIWVycm9yKSBlcnJvciA9IGVycjtcbiBcdFx0XHRcdFx0fVxuIFx0XHRcdFx0fVxuIFx0XHRcdH1cbiBcdFx0fVxuXG4gXHRcdC8vIGhhbmRsZSBlcnJvcnMgaW4gYWNjZXB0IGhhbmRsZXJzIGFuZCBzZWxmIGFjY2VwdGVkIG1vZHVsZSBsb2FkXG4gXHRcdGlmIChlcnJvcikge1xuIFx0XHRcdGhvdFNldFN0YXR1cyhcImZhaWxcIik7XG4gXHRcdFx0cmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTtcbiBcdFx0fVxuXG4gXHRcdGhvdFNldFN0YXR1cyhcImlkbGVcIik7XG4gXHRcdHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlKSB7XG4gXHRcdFx0cmVzb2x2ZShvdXRkYXRlZE1vZHVsZXMpO1xuIFx0XHR9KTtcbiBcdH1cblxuIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge30sXG4gXHRcdFx0aG90OiBob3RDcmVhdGVNb2R1bGUobW9kdWxlSWQpLFxuIFx0XHRcdHBhcmVudHM6IChob3RDdXJyZW50UGFyZW50c1RlbXAgPSBob3RDdXJyZW50UGFyZW50cywgaG90Q3VycmVudFBhcmVudHMgPSBbXSwgaG90Q3VycmVudFBhcmVudHNUZW1wKSxcbiBcdFx0XHRjaGlsZHJlbjogW11cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgaG90Q3JlYXRlUmVxdWlyZShtb2R1bGVJZCkpO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiL1VzZXJzL3NhaWZ1cnJlaG1hbi9EZXNrdG9wL2JsYWNrLWZyaWRheS1pY3AvYmFja2VuZC9saXN0aW5nLW1vbmdvLW1pY3Jvc2VydmljZS9kaXN0XCI7XG5cbiBcdC8vIF9fd2VicGFja19oYXNoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18uaCA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gaG90Q3VycmVudEhhc2g7IH07XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gaG90Q3JlYXRlUmVxdWlyZSg2KShfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSA2KTtcbiIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIm1vbmdvb3NlXCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImV4cHJlc3NcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiZGVidWdcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiYm9keS1wYXJzZXJcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiaHR0cFwiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJleHByZXNzLXNlc3Npb25cIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiQGJhYmVsL3BvbHlmaWxsXCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcInJlZmxlY3QtbWV0YWRhdGFcIik7IiwiaW1wb3J0ICogYXMgbW9uZ29vc2UgZnJvbSAnbW9uZ29vc2UnO1xudmFyIFNjaGVtYSA9IG1vbmdvb3NlLlNjaGVtYTtcbmV4cG9ydCB2YXIgSXRlbVNjaGVtYSA9IG5ldyBTY2hlbWEoe1xuICAgIE5hbWU6IHtcbiAgICAgICAgdHlwZTogU3RyaW5nXG4gICAgfSxcbiAgICBQaG9uZToge1xuICAgICAgICB0eXBlOiBTdHJpbmdcbiAgICB9LFxuICAgIExuZzoge1xuICAgICAgICB0eXBlOiBTdHJpbmdcbiAgICB9LFxuICAgIExhdDoge1xuICAgICAgICB0eXBlOiBTdHJpbmdcbiAgICB9XG59KTtcbiIsImltcG9ydCAqIGFzIG1vbmdvb3NlIGZyb20gXCJtb25nb29zZVwiO1xuaW1wb3J0IHsgSXRlbVNjaGVtYSB9IGZyb20gXCIuLi9tb2RlbHMvY3JtTW9kZWxcIjtcbnZhciBJdGVtID0gbW9uZ29vc2UubW9kZWwoXCJJdGVtXCIsIEl0ZW1TY2hlbWEpO1xudmFyIEl0ZW1Db250cm9sbGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEl0ZW1Db250cm9sbGVyKCkge1xuICAgIH1cbiAgICBJdGVtQ29udHJvbGxlci5wcm90b3R5cGUuYWRkTmV3SXRlbSA9IGZ1bmN0aW9uIChyZXEsIHJlcykge1xuICAgICAgICByZXMuc2V0SGVhZGVyKCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24vanNvbicpO1xuICAgICAgICB2YXIgbmV3SXRlbSA9IG5ldyBJdGVtKHJlcS5ib2R5KTtcbiAgICAgICAgbmV3SXRlbS5zYXZlKGZ1bmN0aW9uIChlcnIsIGRhdGEpIHtcbiAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDQwNCkuanNvbih7IGVycjogZXJyIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlcy5qc29uKGRhdGEpO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIEl0ZW1Db250cm9sbGVyLnByb3RvdHlwZS5nZXRJdGVtID0gZnVuY3Rpb24gKHJlcSwgcmVzKSB7XG4gICAgICAgIHJlcy5zZXRIZWFkZXIoJ0NvbnRlbnQtVHlwZScsICdhcHBsaWNhdGlvbi9qc29uJyk7XG4gICAgICAgIEl0ZW0uZmluZCh7fSwgZnVuY3Rpb24gKGVyciwgZGF0YSkge1xuICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNDA0KS5qc29uKHsgZXJyOiBlcnIgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLnNlbmQoZGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgSXRlbUNvbnRyb2xsZXIucHJvdG90eXBlLmdldEl0ZW1CeUlkID0gZnVuY3Rpb24gKHJlcSwgcmVzKSB7XG4gICAgICAgIHJlcy5zZXRIZWFkZXIoJ0NvbnRlbnQtVHlwZScsICdhcHBsaWNhdGlvbi9qc29uJyk7XG4gICAgICAgIEl0ZW0uZmluZEJ5SWQocmVxLnBhcmFtcy5JRCwgZnVuY3Rpb24gKGVyciwgZGF0YSkge1xuICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNDA0KS5qc29uKHsgZXJyOiBlcnIgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLnNlbmQoZGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgSXRlbUNvbnRyb2xsZXIucHJvdG90eXBlLnVwZGF0ZUl0ZW0gPSBmdW5jdGlvbiAocmVxLCByZXMpIHtcbiAgICAgICAgcmVzLnNldEhlYWRlcignQ29udGVudC1UeXBlJywgJ2FwcGxpY2F0aW9uL2pzb24nKTtcbiAgICAgICAgSXRlbS5maW5kT25lQW5kVXBkYXRlKHsgX2lkOiByZXEucGFyYW1zLklEIH0sIHJlcS5ib2R5LCB7IG5ldzogdHJ1ZSB9LCBmdW5jdGlvbiAoZXJyLCBkYXRhKSB7XG4gICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDQpLmpzb24oeyBlcnI6IGVyciB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXMuanNvbihkYXRhKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBJdGVtQ29udHJvbGxlci5wcm90b3R5cGUuZGVsZXRlSXRlbSA9IGZ1bmN0aW9uIChyZXEsIHJlcykge1xuICAgICAgICByZXMuc2V0SGVhZGVyKCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24vanNvbicpO1xuICAgICAgICBJdGVtLmRlbGV0ZU9uZSh7IF9pZDogcmVxLnBhcmFtcy5JRCB9LCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDQpLmpzb24oeyBlcnI6IGVyciB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXMuanNvbih7IG1lc3NhZ2U6IFwic3VjY2Vzc1wiIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIHJldHVybiBJdGVtQ29udHJvbGxlcjtcbn0oKSk7XG5leHBvcnQgeyBJdGVtQ29udHJvbGxlciB9O1xuIiwiaW1wb3J0IHsgUm91dGVyIH0gZnJvbSBcImV4cHJlc3NcIjtcbmltcG9ydCB7IEl0ZW1Db250cm9sbGVyIH0gZnJvbSBcIi4uL2xpc3RpbmcvbGliL2NvbnRyb2xsZXJzL2NybUNvbnRyb2xsZXJcIjtcbmltcG9ydCBcInJlZmxlY3QtbWV0YWRhdGFcIjtcbnZhciBMaXN0aW5nTW9uZ29Db250cm9sbGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIExpc3RpbmdNb25nb0NvbnRyb2xsZXIoKSB7XG4gICAgICAgIHRoaXMuaXRlbUNvbnRyb2xsZXIgPSBuZXcgSXRlbUNvbnRyb2xsZXIoKTtcbiAgICAgICAgdGhpcy5yb3V0ZXIgPSBSb3V0ZXIoKTtcbiAgICAgICAgdGhpcy5yb3V0ZXMoKTtcbiAgICB9XG4gICAgTGlzdGluZ01vbmdvQ29udHJvbGxlci5wcm90b3R5cGUucm91dGVzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnJvdXRlci5nZXQoXCIvaGVhbHRoelwiLCBmdW5jdGlvbiAoXywgcmVzKSB7XG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuc2VuZChcImhlYWx0aHpcIik7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnJvdXRlci5nZXQoXCIvbGlzdEl0ZW1zXCIsIGZ1bmN0aW9uIChyZXEsIHJlcywgbmV4dCkge1xuICAgICAgICAgICAgbmV4dCgpO1xuICAgICAgICB9LCB0aGlzLml0ZW1Db250cm9sbGVyLmdldEl0ZW0pO1xuICAgICAgICB0aGlzLnJvdXRlci5wb3N0KFwiL2xpc3RJdGVtc1wiLCBmdW5jdGlvbiAocmVxLCByZXMsIG5leHQpIHtcbiAgICAgICAgICAgIG5leHQoKTtcbiAgICAgICAgfSwgdGhpcy5pdGVtQ29udHJvbGxlci5hZGROZXdJdGVtKTtcbiAgICAgICAgdGhpcy5yb3V0ZXIuZ2V0KFwiL2xpc3RJdGVtcy86SURcIiwgZnVuY3Rpb24gKF8sIHJlcywgbmV4dCkge1xuICAgICAgICAgICAgbmV4dCgpO1xuICAgICAgICB9LCB0aGlzLml0ZW1Db250cm9sbGVyLmdldEl0ZW1CeUlkKTtcbiAgICAgICAgdGhpcy5yb3V0ZXIucHV0KFwiL2xpc3RJdGVtcy86SURcIiwgZnVuY3Rpb24gKF8sIHJlcywgbmV4dCkge1xuICAgICAgICAgICAgbmV4dCgpO1xuICAgICAgICB9LCB0aGlzLml0ZW1Db250cm9sbGVyLnVwZGF0ZUl0ZW0pO1xuICAgICAgICB0aGlzLnJvdXRlci5kZWxldGUoXCIvbGlzdEl0ZW1zLzpJRFwiLCBmdW5jdGlvbiAoXywgcmVzLCBuZXh0KSB7XG4gICAgICAgICAgICBuZXh0KCk7XG4gICAgICAgIH0sIHRoaXMuaXRlbUNvbnRyb2xsZXIuZGVsZXRlSXRlbSk7XG4gICAgfTtcbiAgICByZXR1cm4gTGlzdGluZ01vbmdvQ29udHJvbGxlcjtcbn0oKSk7XG5leHBvcnQgZGVmYXVsdCBuZXcgTGlzdGluZ01vbmdvQ29udHJvbGxlcigpLnJvdXRlcjtcbiIsImltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnO1xuaW1wb3J0IGJvZHlQYXJzZXIgZnJvbSAnYm9keS1wYXJzZXInO1xuaW1wb3J0IHNlc3Npb24gZnJvbSAnZXhwcmVzcy1zZXNzaW9uJztcbmltcG9ydCBMaXN0aW5nTW9uZ29Db250cm9sbGVyIGZyb20gJy4vY29udHJvbGxlcnMvbGlzdGluZy9pbmRleCc7XG52YXIgbW9uZ29vc2UgPSByZXF1aXJlKCdtb25nb29zZScpO1xubW9uZ29vc2UuUHJvbWlzZSA9IFByb21pc2U7XG52YXIgQXBwID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEFwcCgpIHtcbiAgICAgICAgdGhpcy5tb25nb1VybCA9ICdtb25nb2RiOi8vYWRtaW46YWRtaW5AMTU4LjE3NS4xMTEuMTA3OjMwMzI3L2Ftcm8nO1xuICAgICAgICB0aGlzLmV4cHJlc3MgPSBleHByZXNzKCk7XG4gICAgICAgIHRoaXMubWlkZGxld2FyZSgpO1xuICAgICAgICB0aGlzLnJvdXRlcygpO1xuICAgICAgICB0aGlzLm1vbmdvU2V0dXAoKTtcbiAgICB9XG4gICAgQXBwLnByb3RvdHlwZS5tb25nb1NldHVwID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBtb25nb29zZS5Qcm9taXNlID0gZ2xvYmFsLlByb21pc2U7XG4gICAgICAgIG1vbmdvb3NlLmNvbm5lY3QodGhpcy5tb25nb1VybCk7XG4gICAgfTtcbiAgICBBcHAucHJvdG90eXBlLm1pZGRsZXdhcmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZXhwcmVzcy51c2UoZnVuY3Rpb24gKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgICAgICAgICByZXMuaGVhZGVyKCdBY2Nlc3MtQ29udHJvbC1BbGxvdy1PcmlnaW4nLCAnKicpO1xuICAgICAgICAgICAgcmVzLmhlYWRlcignQWNjZXNzLUNvbnRyb2wtQWxsb3ctSGVhZGVycycsICcqJyk7XG4gICAgICAgICAgICBuZXh0KCk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmV4cHJlc3MudXNlKGJvZHlQYXJzZXIuanNvbigpKTtcbiAgICAgICAgdGhpcy5leHByZXNzLnVzZShib2R5UGFyc2VyLnVybGVuY29kZWQoeyBleHRlbmRlZDogZmFsc2UgfSkpO1xuICAgICAgICB0aGlzLmV4cHJlc3MudXNlKHNlc3Npb24oeyBzZWNyZXQ6ICd0ZXN0MTIzJywgc2F2ZVVuaW5pdGlhbGl6ZWQ6IGZhbHNlLCByZXNhdmU6IHRydWUgfSkpO1xuICAgIH07XG4gICAgQXBwLnByb3RvdHlwZS5yb3V0ZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZXhwcmVzcy5nZXQoJy8nLCBmdW5jdGlvbiAoXywgcmVzKSB7XG4gICAgICAgICAgICByZXMuc2VuZCgnaGknKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZXhwcmVzcy51c2UoJy8nLCBMaXN0aW5nTW9uZ29Db250cm9sbGVyKTtcbiAgICB9O1xuICAgIHJldHVybiBBcHA7XG59KCkpO1xuZXhwb3J0IGRlZmF1bHQgbmV3IEFwcCgpLmV4cHJlc3M7XG4iLCJpbXBvcnQgaHR0cCBmcm9tICdodHRwJztcbmltcG9ydCBkZWJ1ZyBmcm9tICdkZWJ1Zyc7XG5pbXBvcnQgQXBwIGZyb20gJy4vc2VydmVyJztcbmRlYnVnKCd0cy1leHByZXNzOnNlcnZlcicpO1xudmFyIEluaXRTZXJ2ZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gSW5pdFNlcnZlcigpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy5ub3JtYWxpemVQb3J0ID0gZnVuY3Rpb24gKHZhbCkge1xuICAgICAgICAgICAgdmFyIHBvcnQgPSB0eXBlb2YgdmFsID09PSAnc3RyaW5nJyA/IHBhcnNlSW50KHZhbCwgMTApIDogdmFsO1xuICAgICAgICAgICAgaWYgKGlzTmFOKHBvcnQpKVxuICAgICAgICAgICAgICAgIHJldHVybiB2YWw7XG4gICAgICAgICAgICBlbHNlIGlmIChwb3J0ID49IDApXG4gICAgICAgICAgICAgICAgcmV0dXJuIHBvcnQ7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLm9uRXJyb3IgPSBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICAgIGlmIChlcnJvci5zeXNjYWxsICE9PSAnbGlzdGVuJylcbiAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgIHZhciBiaW5kID0gdHlwZW9mIF90aGlzLnBvcnQgPT09ICdzdHJpbmcnID8gJ1BpcGUgJyArIF90aGlzLnBvcnQgOiAnUG9ydCAnICsgX3RoaXMucG9ydDtcbiAgICAgICAgICAgIHN3aXRjaCAoZXJyb3IuY29kZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgJ0VBQ0NFUyc6XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYmluZCArIFwiIHJlcXVpcmVzIGVsZXZhdGVkIHByaXZpbGVnZXNcIik7XG4gICAgICAgICAgICAgICAgICAgIHByb2Nlc3MuZXhpdCgxKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnRUFERFJJTlVTRSc6XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYmluZCArIFwiIGlzIGFscmVhZHkgaW4gdXNlXCIpO1xuICAgICAgICAgICAgICAgICAgICBwcm9jZXNzLmV4aXQoMSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLm9uTGlzdGVuaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJsaXN0ZW5pbmcgb24gXCIgKyBfdGhpcy5wb3J0KTtcbiAgICAgICAgICAgIHZhciBhZGRyID0gX3RoaXMuc2VydmVyLmFkZHJlc3MoKTtcbiAgICAgICAgICAgIHZhciBiaW5kID0gdHlwZW9mIGFkZHIgPT09ICdzdHJpbmcnID8gXCJwaXBlIFwiICsgYWRkciA6IFwicG9ydCBcIiArIGFkZHIucG9ydDtcbiAgICAgICAgICAgIGRlYnVnKFwiTGlzdGVuaW5nIG9uIFwiICsgYmluZCk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMucG9ydCA9IHRoaXMubm9ybWFsaXplUG9ydChwcm9jZXNzLmVudi5wb3J0IHx8IDcwMDApO1xuICAgICAgICBBcHAuc2V0KCdwb3J0JywgdGhpcy5wb3J0KTtcbiAgICAgICAgdGhpcy5zZXJ2ZXIgPSBodHRwLmNyZWF0ZVNlcnZlcihBcHApO1xuICAgICAgICB0aGlzLnNlcnZlci5saXN0ZW4odGhpcy5wb3J0KTtcbiAgICAgICAgdGhpcy5zZXJ2ZXIub24oJ2Vycm9yJywgdGhpcy5vbkVycm9yKTtcbiAgICAgICAgdGhpcy5zZXJ2ZXIub24oJ2xpc3RlbmluZycsIHRoaXMub25MaXN0ZW5pbmcpO1xuICAgIH1cbiAgICByZXR1cm4gSW5pdFNlcnZlcjtcbn0oKSk7XG5uZXcgSW5pdFNlcnZlcigpO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==